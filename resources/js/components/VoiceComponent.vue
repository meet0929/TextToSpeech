<template>
  <div class="wrapper">
    <div class="content-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12">
            <div class="row justify-content-evenly">
              <div class="col-lg-4 col-xl-3 col-12 px-3 mt-3 mt-lg-0 mb-5">
                <div class="d-lg-grid">
                  <button
                    class="btn btn-light m-1 text-start p-2 px-3"
                    data-bs-toggle="modal"
                    @click="getaddedvoices()"
                    data-bs-target="#FavoriteVoice"
                  >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      class="me-2"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M6.70225 2.52075C7.5359 1.68709 8.66658 1.21875 9.84554 1.21875C11.0245 1.21875 12.1552 1.68709 12.9888 2.52075C13.8225 3.3544 14.2908 4.48508 14.2908 5.66405C14.2908 6.84301 13.8225 7.97369 12.9888 8.80734C12.1552 9.641 11.0245 10.1093 9.84554 10.1093C8.66658 10.1093 7.5359 9.641 6.70225 8.80734C5.86859 7.97369 5.40025 6.84301 5.40025 5.66405C5.40025 4.48508 5.86859 3.3544 6.70225 2.52075ZM9.84554 2.99687C9.13817 2.99687 8.45976 3.27787 7.95957 3.77807C7.45937 4.27826 7.17837 4.95667 7.17837 5.66405C7.17837 6.37142 7.45937 7.04983 7.95957 7.55002C8.45976 8.05022 9.13817 8.33122 9.84554 8.33122C10.5529 8.33122 11.2313 8.05022 11.7315 7.55002C12.2317 7.04983 12.5127 6.37142 12.5127 5.66405C12.5127 4.95667 12.2317 4.27826 11.7315 3.77807C11.2313 3.27787 10.5529 2.99687 9.84554 2.99687ZM8.06743 13.6656C7.36005 13.6656 6.68164 13.9466 6.18145 14.4468C5.68125 14.947 5.40025 15.6254 5.40025 16.3328V18.1109C5.40025 18.6019 5.0022 18.9999 4.51119 18.9999C4.02018 18.9999 3.62213 18.6019 3.62213 18.1109V16.3328C3.62213 15.1538 4.09047 14.0231 4.92413 13.1895C5.75778 12.3558 6.88846 11.8875 8.06743 11.8875H10.7346C11.2256 11.8875 11.6237 12.2855 11.6237 12.7765C11.6237 13.2675 11.2256 13.6656 10.7346 13.6656H8.06743Z"
                        fill="#AD12F6"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M14.5004 10.998C15.383 10.998 16.0986 11.7216 16.0986 12.6141L16.0989 14.5142C16.0989 15.4067 15.3833 16.1302 14.5006 16.1302C13.6179 16.1302 12.9024 15.4067 12.9024 14.5142L12.9021 12.6141C12.9021 11.7216 13.6177 10.998 14.5004 10.998ZM12.5812 14.6918C12.5812 14.427 12.3665 14.2123 12.1017 14.2123C11.8369 14.2123 11.6223 14.427 11.6223 14.6918C11.6223 16.1172 12.659 17.3006 14.0196 17.5289V18.0481C14.0196 18.3129 14.2343 18.5276 14.4991 18.5276C14.7639 18.5276 14.9786 18.3129 14.9786 18.0481V17.5289C16.3392 17.3006 17.376 16.1172 17.376 14.6918C17.376 14.427 17.1613 14.2123 16.8965 14.2123C16.6317 14.2123 16.417 14.427 16.417 14.6918C16.417 15.751 15.5583 16.6097 14.4991 16.6097C13.4399 16.6097 12.5812 15.751 12.5812 14.6918Z"
                        fill="#AD12F6"
                      />
                    </svg>
                    Change Voice
                  </button>
                  <a
                    href="voice-lab"
                    class="btn btn-light m-1 text-start p-2 px-3"
                  >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      class="me-2"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M5.43649 0.50086H5.32721V0.5C4.64228 0.5 4.20688 0.5 3.83 0.570558C3.02174 0.722938 2.27826 1.11563 1.69674 1.6973C1.11522 2.27897 0.722724 3.02256 0.570558 3.83086C0.5 4.20688 0.5 4.64228 0.5 5.32807V11.52C0.5 13.1015 0.5 14.3535 0.631651 15.3344C0.767605 16.3429 1.05328 17.1595 1.69691 17.804C2.3414 18.4476 3.15798 18.7333 4.16644 18.8692C5.14651 19.0009 6.39935 19.0009 7.98088 19.0009H11.5191C13.1007 19.0009 14.3526 19.0009 15.3336 18.8692C16.342 18.7333 17.1586 18.4476 17.8031 17.804C18.4467 17.1595 18.7324 16.3429 18.8683 15.3344C19 14.3543 19 13.1015 19 11.5208V9.53316C19 8.43779 19 7.55495 18.9122 6.85626C18.821 6.1326 18.6274 5.51737 18.1722 5.01142C18.0965 4.92709 18.0156 4.84621 17.9313 4.77049C17.4253 4.31616 16.8101 4.1217 16.0865 4.03049C15.3886 3.94272 14.5049 3.94272 13.4096 3.94272H13.0439C12.0147 3.94272 11.625 3.9367 11.2696 3.83602C11.0631 3.77665 10.8643 3.69405 10.6767 3.58993C10.3532 3.41009 10.0735 3.13819 9.34558 2.41109L8.84995 1.9146L8.83552 1.90023C8.62946 1.69499 8.49471 1.56077 8.35174 1.44135C7.71868 0.916384 6.94198 0.594606 6.12314 0.51807C5.93298 0.50086 5.73851 0.50086 5.43649 0.50086ZM4.06835 1.83888C4.311 1.79328 4.6156 1.7907 5.40465 1.7907C5.60436 1.78605 5.80417 1.79093 6.00353 1.8036C6.56345 1.85612 7.09452 2.07622 7.52742 2.43519C7.67762 2.56711 7.82203 2.70549 7.96023 2.84993L8.43349 3.32319L8.49974 3.3903C9.13821 4.02877 9.54951 4.43921 10.0486 4.718C10.3231 4.8703 10.6148 4.99077 10.9159 5.07681C11.4658 5.23342 12.0474 5.23342 12.9492 5.23342H13.3657C14.5153 5.23342 15.3172 5.23428 15.9256 5.31086C16.5176 5.38572 16.8377 5.52253 17.0683 5.72991C17.119 5.7755 17.1672 5.82375 17.2128 5.87446C17.4202 6.10507 17.557 6.4243 17.6319 7.01716C17.7084 7.62637 17.7093 8.42747 17.7093 9.57705V11.4718C17.7093 13.1127 17.7076 14.2786 17.5888 15.1623C17.4727 16.028 17.2541 16.527 16.8901 16.891C16.5262 17.255 16.0271 17.4735 15.1623 17.5897C14.2778 17.7084 13.1118 17.7102 11.4709 17.7102H8.02907C6.38816 17.7102 5.22309 17.7084 4.33853 17.5897C3.47291 17.4735 2.97384 17.255 2.60986 16.891C2.24588 16.527 2.02733 16.028 1.91116 15.1632C1.79242 14.2786 1.7907 13.1127 1.7907 11.4718V5.40465C1.7907 4.6156 1.79328 4.311 1.83974 4.06835C1.94399 3.51574 2.21241 3.0074 2.60998 2.60968C3.00754 2.21196 3.51578 1.94334 4.06835 1.83888ZM14.6256 11.7193C14.817 11.2343 14.9128 10.7242 14.9128 10.189C14.9131 9.65409 14.8174 9.14415 14.6256 8.6592C14.4338 8.17424 14.1736 7.73397 13.845 7.33837C13.7518 7.22946 13.6326 7.17315 13.4874 7.16943C13.3422 7.1657 13.2189 7.21814 13.1176 7.32673C13.0162 7.43533 12.9674 7.55944 12.9711 7.69906C12.9749 7.83868 13.0237 7.96667 13.1176 8.08302C13.3529 8.37778 13.5348 8.70357 13.6634 9.06038C13.792 9.41719 13.8565 9.7934 13.8568 10.189C13.8571 10.5846 13.7926 10.9647 13.6634 11.3292C13.5342 11.6938 13.3522 12.0235 13.1176 12.3182C13.0315 12.4346 12.9846 12.5626 12.9767 12.7022C12.9689 12.8418 13.0159 12.9621 13.1176 13.0629C13.2271 13.1715 13.3522 13.2219 13.493 13.2141C13.6338 13.2064 13.7512 13.1482 13.845 13.0396C14.1739 12.6443 14.4341 12.2042 14.6256 11.7193ZM12.6599 10.9048C12.7382 10.6758 12.7773 10.4372 12.7773 10.189C12.7773 9.94109 12.7382 9.70264 12.6599 9.47366C12.5817 9.24468 12.4722 9.03323 12.3314 8.83931C12.2457 8.72265 12.1304 8.66246 11.9855 8.65873C11.8406 8.65501 11.7134 8.70745 11.6039 8.81604C11.5019 8.91688 11.449 9.03711 11.4453 9.17673C11.4415 9.31635 11.4748 9.4521 11.5452 9.58396C11.5922 9.67705 11.6293 9.77401 11.6565 9.87484C11.6837 9.97568 11.6975 10.0804 11.6978 10.189C11.6981 10.2976 11.6845 10.4023 11.657 10.5031C11.6294 10.604 11.5922 10.6971 11.5452 10.7824C11.4752 10.9146 11.442 11.0523 11.4457 11.1957C11.4495 11.339 11.5022 11.4611 11.6039 11.5619C11.7137 11.6709 11.8409 11.7233 11.9855 11.7193C12.1301 11.7152 12.2454 11.655 12.3314 11.5387C12.4722 11.3451 12.5817 11.1338 12.6599 10.9048ZM7.01607 11.5038C7.38373 11.8683 7.82569 12.0506 8.34197 12.0506C8.85825 12.0506 9.30022 11.8683 9.66787 11.5038C10.0355 11.1392 10.2194 10.7009 10.2194 10.189C10.2194 9.67705 10.0355 9.23879 9.66787 8.87422C9.30022 8.50965 8.85825 8.32736 8.34197 8.32736C7.82569 8.32736 7.38373 8.50965 7.01607 8.87422C6.64842 9.23879 6.46459 9.67705 6.46459 10.189C6.46459 10.7009 6.64842 11.1392 7.01607 11.5038ZM4.58722 14.4707V14.8431C4.58753 15.0994 4.67952 15.3186 4.86319 15.5007C5.04686 15.6828 5.26777 15.7739 5.52591 15.7739H11.158C11.4165 15.7742 11.6376 15.6831 11.8212 15.5007C12.0049 15.3183 12.0967 15.0991 12.0967 14.8431V14.4707C12.0967 14.2148 12.0302 13.9743 11.8973 13.7494C11.7643 13.5244 11.5805 13.3538 11.3458 13.2374C10.9468 13.0357 10.497 12.8651 9.99641 12.7255C9.49578 12.5858 8.9443 12.516 8.34197 12.516C7.73965 12.516 7.18817 12.5858 6.68753 12.7255C6.1869 12.8651 5.73711 13.0357 5.33817 13.2374C5.1035 13.3538 4.91967 13.5244 4.78669 13.7494C4.65371 13.9743 4.58722 14.2148 4.58722 14.4707ZM11.158 14.4707V14.8431H5.52591V14.4707C5.52559 14.3854 5.54703 14.3079 5.59021 14.238C5.63339 14.1682 5.69018 14.1139 5.76058 14.0752C6.04281 13.9355 6.40468 13.7959 6.84617 13.6563C7.28767 13.5167 7.78627 13.4469 8.34197 13.4469C8.89768 13.4469 9.39643 13.5167 9.83824 13.6563C10.2801 13.7959 10.6418 13.9355 10.9234 14.0752C10.9941 14.1139 11.0509 14.1682 11.0937 14.238C11.1366 14.3079 11.158 14.3854 11.158 14.4707ZM9.00516 10.8466C8.82117 11.0287 8.60011 11.1198 8.34197 11.1198C8.08508 11.1211 7.86418 11.03 7.67926 10.8466C7.49434 10.6632 7.40234 10.444 7.40328 10.189C7.40422 9.93395 7.49621 9.7149 7.67926 9.53184C7.8623 9.34878 8.08321 9.25756 8.34197 9.25818C8.60074 9.2588 8.8218 9.35002 9.00516 9.53184C9.18851 9.71366 9.28035 9.93271 9.28066 10.189C9.28097 10.4453 9.18914 10.6645 9.00516 10.8466Z"
                        fill="#AD12F6"
                      />
                    </svg>
                    My Voice Lab
                  </a>
                  <button
                    class="btn btn-light m-1 text-start p-2 px-3"
                    data-bs-toggle="modal"
                    data-bs-target="#VoiceSetting"
                    @click="selectVoice()"
                  >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      class="me-2"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M7.54999 1.16522C7.93187 1.05923 8.33558 1.23685 8.51544 1.59C8.65499 1.864 8.86762 2.09406 9.1298 2.25471C9.39199 2.41537 9.69351 2.50036 10.001 2.50028C10.3085 2.50036 10.6104 2.41537 10.8726 2.25471C11.1348 2.09406 11.3474 1.864 11.487 1.59C11.6668 1.23685 12.0705 1.05923 12.4524 1.16522C13.8675 1.55799 15.1672 2.28547 16.242 3.28624C16.5112 3.53687 16.5842 3.93431 16.4217 4.26426C16.2957 4.52018 16.2375 4.80416 16.2526 5.08902C16.2678 5.37388 16.3558 5.65009 16.5082 5.89121C16.6607 6.13232 16.8724 6.33027 17.1233 6.46611C17.3741 6.60195 17.6557 6.67113 17.9409 6.66703C18.3095 6.66174 18.6377 6.8992 18.748 7.25091C19.0271 8.1409 19.1687 9.0683 19.1679 10.001L18.3345 10.0003H19.1679C19.1679 10.0005 19.1679 10.0008 19.1679 10.001C19.1678 10.6323 19.1037 11.2495 18.9818 11.8463C18.8963 12.2649 18.508 12.551 18.0828 12.5087C17.7527 12.4758 17.4204 12.5421 17.1282 12.6992C16.8361 12.8563 16.5975 13.0969 16.4429 13.3904C16.2883 13.6839 16.2248 14.0168 16.2605 14.3465C16.2962 14.6763 16.4295 14.9879 16.6433 15.2415C16.9182 15.5676 16.9026 16.0486 16.607 16.3561C15.5105 17.4968 14.1373 18.3342 12.6212 18.7867C12.1866 18.9165 11.728 18.6747 11.5894 18.2428C11.4814 17.9064 11.2695 17.613 10.9841 17.4048C10.6986 17.1966 10.3545 17.0844 10.0012 17.0844C9.64792 17.0844 9.30376 17.1966 9.01834 17.4048C8.73291 17.613 8.52096 17.9064 8.41303 18.2428C8.27444 18.6747 7.8158 18.9165 7.38113 18.7867C5.86495 18.334 4.49181 17.4965 3.39537 16.3556C3.09983 16.0481 3.08417 15.5671 3.3591 15.241C3.57289 14.9875 3.70617 14.6759 3.74187 14.3461C3.77757 14.0164 3.71407 13.6834 3.5595 13.39C3.40492 13.0965 3.1663 12.8559 2.87418 12.6988C2.58205 12.5417 2.2497 12.4754 1.91965 12.5083C1.4944 12.5506 1.10602 12.2644 1.02054 11.8457C0.896559 11.2384 0.83424 10.6201 0.834535 10.0003H1.66787L0.834535 9.99984C0.834579 9.0437 0.981055 8.11952 1.25463 7.25014C1.36385 6.90304 1.68566 6.66695 2.04953 6.66695H2.08453C2.3678 6.66704 2.64668 6.59493 2.89434 6.45743C3.142 6.31994 3.35052 6.12159 3.50023 5.88111C3.64993 5.64064 3.73588 5.36598 3.74995 5.08306C3.76402 4.80014 3.70574 4.51831 3.58064 4.26417C3.41822 3.93424 3.49126 3.53684 3.7604 3.28624C4.83516 2.28547 6.13493 1.55799 7.54999 1.16522ZM5.30824 4.14939C5.39538 4.47946 5.43164 4.82225 5.41456 5.16584C5.38642 5.73167 5.21453 6.28099 4.91512 6.76194C4.61571 7.24289 4.19866 7.63959 3.70334 7.91459C3.38932 8.08893 3.05041 8.21071 2.70001 8.27645C2.56997 8.82912 2.5012 9.40621 2.5012 10.0003L2.5012 10.0007C2.50105 10.2901 2.51756 10.579 2.55059 10.8661C2.93813 10.9208 3.3151 11.0436 3.66347 11.2309C4.24772 11.545 4.72496 12.0263 5.03411 12.6133C5.34326 13.2002 5.47026 13.866 5.39886 14.5255C5.35622 14.9194 5.24397 15.3003 5.0694 15.6512C5.6992 16.2016 6.41662 16.6426 7.19175 16.9561C7.41367 16.609 7.69934 16.3039 8.03621 16.0582C8.60685 15.642 9.2949 15.4178 10.0012 15.4178C10.7075 15.4178 11.3956 15.642 11.9662 16.0582C12.3031 16.3039 12.5888 16.609 12.8107 16.9562C13.5858 16.6427 14.3032 16.2018 14.933 15.6516C14.7584 15.3006 14.6462 14.9197 14.6035 14.5259C14.5321 13.8664 14.6591 13.2006 14.9683 12.6137C15.2774 12.0268 15.7547 11.5454 16.3389 11.2313C16.6873 11.044 17.0643 10.9212 17.4518 10.8665C17.4844 10.5824 17.5012 10.2934 17.5012 10.0003V9.99953C17.5017 9.41886 17.4348 8.84073 17.3021 8.27668C16.9633 8.2131 16.6351 8.09711 16.3297 7.93169C15.828 7.66001 15.4044 7.26411 15.0995 6.78188C14.7946 6.29964 14.6186 5.74723 14.5883 5.1775C14.5698 4.83002 14.6059 4.48319 14.6941 4.14935C14.0574 3.63767 13.3413 3.23369 12.5743 2.95337C12.3404 3.2373 12.0599 3.48184 11.7434 3.67581C11.2191 3.99705 10.6162 4.16702 10.0014 4.16695M5.30824 4.14939C5.94496 3.63769 6.66109 3.23369 7.42809 2.95337C7.66205 3.2373 7.94248 3.48184 8.25902 3.67581C8.78327 3.99705 9.38657 4.16702 10.0014 4.16695"
                        fill="#AD12F6"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M7.34835 7.34835C8.05161 6.64509 9.00544 6.25 10 6.25C10.4925 6.25 10.9801 6.347 11.4351 6.53545C11.89 6.72391 12.3034 7.00013 12.6516 7.34835C12.9999 7.69657 13.2761 8.10997 13.4645 8.56494C13.653 9.01991 13.75 9.50754 13.75 10C13.75 10.4925 13.653 10.9801 13.4645 11.4351C13.2761 11.89 12.9999 12.3034 12.6516 12.6516C12.3034 12.9999 11.89 13.2761 11.4351 13.4645C10.9801 13.653 10.4925 13.75 10 13.75C9.00544 13.75 8.05161 13.3549 7.34835 12.6516C6.64509 11.9484 6.25 10.9946 6.25 10C6.25 9.00544 6.64509 8.05161 7.34835 7.34835ZM10 7.91667C9.44747 7.91667 8.91756 8.13616 8.52686 8.52686C8.13616 8.91756 7.91667 9.44747 7.91667 10C7.91667 10.5525 8.13616 11.0824 8.52686 11.4731C8.91756 11.8638 9.44747 12.0833 10 12.0833C10.2736 12.0833 10.5445 12.0294 10.7973 11.9247C11.05 11.8201 11.2797 11.6666 11.4731 11.4731C11.6666 11.2797 11.8201 11.05 11.9247 10.7973C12.0294 10.5445 12.0833 10.2736 12.0833 10C12.0833 9.72641 12.0294 9.4555 11.9247 9.20274C11.8201 8.94998 11.6666 8.72032 11.4731 8.52686C11.2797 8.33341 11.05 8.17995 10.7973 8.07525C10.5445 7.97055 10.2736 7.91667 10 7.91667Z"
                        fill="#AD12F6"
                      />
                    </svg>
                    Setting
                  </button>
                  <button
                    class="btn btn-light m-1 text-start p-2 px-3"
                    data-bs-toggle="modal"
                    data-bs-target="#version"
                    @click="getmodels()"
                  >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      class="me-2"
                    >
                      <path
                        d="M10.7792 2.39842L16.7634 5.56176C17.6517 6.03092 17.6517 7.30342 16.7634 7.77176L15.7017 8.33342L16.7634 8.89509C17.6517 9.36426 17.6517 10.6368 16.7634 11.1051L15.7017 11.6668L16.7634 12.2284C17.6517 12.6976 17.6517 13.9701 16.7634 14.4384L10.7792 17.6018C10.5391 17.7287 10.2716 17.7951 10 17.7951C9.72842 17.7951 9.46094 17.7287 9.22085 17.6018L3.23668 14.4384C2.34835 13.9693 2.34835 12.6976 3.23668 12.2284L4.29918 11.6668L3.23668 11.1051C2.34835 10.6359 2.34835 9.36426 3.23668 8.89509L4.29918 8.33342L3.23668 7.77176C2.34835 7.30259 2.34835 6.03092 3.23668 5.56176L9.22085 2.39842C9.46094 2.27145 9.72842 2.20508 10 2.20508C10.2716 2.20508 10.5391 2.27145 10.7792 2.39842ZM13.9184 12.6093L10.7792 14.2684C10.5391 14.3954 10.2716 14.4618 10 14.4618C9.72842 14.4618 9.46094 14.3954 9.22085 14.2684L6.08168 12.6101L4.71252 13.3334L10 16.1284L15.2884 13.3334L13.9184 12.6093ZM13.9184 9.27592L10.7792 10.9359C10.5615 11.0509 10.321 11.1162 10.075 11.1271C9.82908 11.1381 9.58375 11.0944 9.35668 10.9993L9.22085 10.9359L6.08168 9.27592L4.71252 10.0009L10 12.7943L15.2884 10.0001L13.9184 9.27592ZM10 3.87176L4.71252 6.66676L10 9.46176L15.2884 6.66676L10 3.87176Z"
                        fill="#AD12F6"
                      />
                    </svg>
                    Version
                  </button>
                  <a
                    href="history"
                    class="btn btn-light m-1 text-start p-2 px-3"
                  >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      class="me-2"
                    >
                      <path
                        d="M11.05 2.49998C6.80832 2.38331 3.33332 5.79165 3.33332 9.99998H1.84165C1.46665 9.99998 1.28332 10.45 1.54998 10.7083L3.87498 13.0416C4.04165 13.2083 4.29998 13.2083 4.46665 13.0416L6.79165 10.7083C6.84924 10.6496 6.88815 10.5751 6.90347 10.4943C6.9188 10.4134 6.90985 10.3299 6.87777 10.2541C6.84569 10.1784 6.7919 10.1138 6.72319 10.0686C6.65448 10.0234 6.57391 9.9995 6.49165 9.99998H4.99998C4.99998 6.74998 7.64999 4.12498 10.9167 4.16665C14.0167 4.20831 16.625 6.81665 16.6667 9.91665C16.7083 13.175 14.0833 15.8333 10.8333 15.8333C9.49165 15.8333 8.24999 15.375 7.26665 14.6C7.10704 14.4742 6.90678 14.4116 6.70396 14.4239C6.50114 14.4361 6.30991 14.5226 6.16665 14.6666C5.81665 15.0166 5.84165 15.6083 6.23332 15.9083C7.54259 16.9437 9.16413 17.5048 10.8333 17.5C15.0417 17.5 18.45 14.025 18.3333 9.78331C18.225 5.87498 14.9583 2.60831 11.05 2.49998ZM10.625 6.66665C10.2833 6.66665 9.99998 6.94998 9.99998 7.29165V10.3583C9.99998 10.65 10.1583 10.925 10.4083 11.075L13.0083 12.6166C13.3083 12.7916 13.6917 12.6916 13.8667 12.4C14.0417 12.1 13.9417 11.7166 13.65 11.5416L11.25 10.1166V7.28331C11.25 6.94998 10.9667 6.66665 10.625 6.66665Z"
                        fill="#AD12F6"
                      />
                    </svg>
                    History
                  </a>
                </div>
              </div>
              <div class="col-lg-8 col-xl-9 col-12">
                <h1 class="heading2">AI Voice Generator</h1>
                <p>
                  Elevate your content with lifelike, expressive speech using
                  our sophisticated text-to-speech engine, available in a
                  multitude of languages.
                </p>
                <form @submit.prevent="textospeechform">
                  <div class="mb-3">
                    <input type="hidden" name="__token" :value="csrftoken" />
                    <textarea
                      class="form-control dashboard-input"
                      name="text"
                      :minlength="100"
                      :maxlength="1000"
                      id="exampleFormControlTextarea1"
                      v-model="tformData.text"
                      @input="countChar"
                      rows="7"
                      required
                    ></textarea>

                    <div class="d-flex justify-content-between c-gray my-2">
                      <p>
                        {{ ttsremainingChars }} /
                        {{
                          items &&
                          items.parameters &&
                          items.parameters.maximum_characters
                        }}
                      </p>
                      <p>Total quota remaining: {{ remainingcount }}</p>
                    </div>
                  </div>
                  <div class="d-grid">
                    <button
                      type="submit"
                      :disabled="isLoad"
                      class="btn btn-secondary p-2 px-3"
                    >
                      <span v-if="!isLoad">GENERATE</span>
                      <span v-else>Loading...</span>
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="player-section">
      <!-- Player  -->
      <div
        class="container-fluid position-absolute border-0 bottom-0"
        :style="{ visibility: isVisible ? 'visible' : 'hidden' }"
        id="myplayer"
      >
        <div class="row justify-content-center m-3 light-bg">
          <div class="col-12 p-3">
            <div class="row justify-content-center px-3">
              <div
                class="col-md-2 col-xl-1 col-12 d-flex d-flex justify-content-center align-items-end"
              >
                <div @click="rewind()">
                  <div id="btn-faws-rewind">
                    <i class="fas fa-backward"
                      ><svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M18 13.3333H15.3333C15.3333 12.0222 14.8556 10.9164 13.9 10.016C12.9444 9.11556 11.8 8.66578 10.4667 8.66667C9.66667 8.66667 8.92222 8.85022 8.23333 9.21733C7.54444 9.58444 6.97778 10.0676 6.53333 10.6667H8.66667V13.3333H2V6.66667H4.66667V8.73333C5.37778 7.88889 6.22755 7.22222 7.216 6.73333C8.20444 6.24444 9.288 6 10.4667 6C12.5778 6 14.3609 6.71111 15.816 8.13333C17.2711 9.55556 17.9991 11.2889 18 13.3333Z"
                          fill="var(--bs-body-color)"
                        />
                      </svg>
                    </i>
                  </div>
                </div>
                <div @click="toggleAudio" style="width: 68px">
                  <div id="btn-faws-play-pause">
                    <i class="fas fa-play" id="icon-play"
                      ><svg
                        width="58"
                        height="58"
                        viewBox="0 0 58 58"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <circle
                          cx="29"
                          cy="29"
                          r="29"
                          fill="var(--bs-body-color)"
                        />
                        <path
                          d="M38 27.2679C39.3333 28.0378 39.3333 29.9623 38 30.7321L26 37.6603C24.6667 38.4301 23 37.4678 23 35.9282L23 22.0718C23 20.5322 24.6667 19.5699 26 20.3397L38 27.2679Z"
                          fill="var(--bs-color-light-bg)"
                        /></svg
                    ></i>
                    <i
                      class="fas fa-pause"
                      id="icon-pause"
                      style="display: none"
                      ><svg
                        width="58"
                        height="58"
                        viewBox="0 0 58 58"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <circle
                          cx="29"
                          cy="29"
                          r="29"
                          fill="var(--bs-body-color)"
                        />
                        <rect
                          x="22"
                          y="20"
                          width="5"
                          height="17"
                          rx="2.5"
                          fill="var(--bs-color-light-bg)"
                        />
                        <rect
                          x="31"
                          y="20"
                          width="5"
                          height="17"
                          rx="2.5"
                          fill="var(--bs-color-light-bg)"
                        />
                      </svg>
                    </i>
                  </div>
                </div>
                <div class="btn-play" @click="forward()">
                  <div id="btn-faws-forward">
                    <i class="fas fa-forward"
                      ><svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M2 13.3333H4.66667C4.66667 12.0222 5.14444 10.9164 6.1 10.016C7.05556 9.11556 8.2 8.66578 9.53333 8.66667C10.3333 8.66667 11.0778 8.85022 11.7667 9.21733C12.4556 9.58444 13.0222 10.0676 13.4667 10.6667H11.3333V13.3333H18V6.66667H15.3333V8.73333C14.6222 7.88889 13.7724 7.22222 12.784 6.73333C11.7956 6.24444 10.712 6 9.53333 6C7.42222 6 5.63911 6.71111 4.184 8.13333C2.72889 9.55556 2.00089 11.2889 2 13.3333Z"
                          fill="var(--bs-body-color)"
                        />
                      </svg>
                    </i>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xl-9 col-12">
                <p class="my-2 title"><b>Voice preview for generated</b></p>
                <div ref="myProgress" id="myProgress" class="mt-4">
                  <div ref="myBar" id="myBar"></div>
                </div>
              </div>
              <div
                class="col-md-4 col-xl-2 col-12 d-flex align-items-end justify-content-md-center mt-3 mt-md-auto"
              >
                <p class="mb-0">
                  <span class="timer">{{ currentTime }}</span> /
                  <span class="duration">{{
                    duration && duration.includes("NaN") ? "00:00" : duration
                  }}</span>
                </p>
                <a @click="voicedownload()" class="btn p-0 mx-2">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M4 17V19C4 19.5304 4.21071 20.0391 4.58579 20.4142C4.96086 20.7893 5.46957 21 6 21H18C18.5304 21 19.0391 20.7893 19.4142 20.4142C19.7893 20.0391 20 19.5304 20 19V17M7 11L12 16M12 16L17 11M12 16V4"
                      stroke="var(--bs-body-color)"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </a>
                <button @click="hideshow()" class="btn p-0 mx-2">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M11.9999 13.4141L17.6569 19.0711C17.8455 19.2533 18.0982 19.3541 18.3603 19.3518C18.6225 19.3495 18.8734 19.2444 19.0588 19.059C19.2442 18.8736 19.3493 18.6227 19.3516 18.3606C19.3539 18.0984 19.2531 17.8458 19.0709 17.6571L13.4139 12.0001L19.0709 6.34315C19.2531 6.15455 19.3539 5.90194 19.3516 5.63975C19.3493 5.37755 19.2442 5.12674 19.0588 4.94133C18.8734 4.75592 18.6225 4.65075 18.3603 4.64848C18.0982 4.6462 17.8455 4.74699 17.6569 4.92915L11.9999 10.5861L6.34295 4.92915C6.15349 4.75149 5.90236 4.65451 5.64268 4.65873C5.38299 4.66295 5.13514 4.76803 4.95155 4.95174C4.76797 5.13546 4.66307 5.38339 4.65903 5.64307C4.655 5.90276 4.75216 6.15382 4.92995 6.34315L10.5859 12.0001L4.92895 17.6571C4.83343 17.7494 4.75725 17.8597 4.70484 17.9817C4.65244 18.1037 4.62485 18.235 4.62369 18.3677C4.62254 18.5005 4.64784 18.6322 4.69812 18.7551C4.7484 18.878 4.82266 18.9897 4.91655 19.0835C5.01044 19.1774 5.1221 19.2517 5.24499 19.302C5.36789 19.3523 5.49957 19.3776 5.63235 19.3764C5.76513 19.3752 5.89635 19.3477 6.01835 19.2953C6.14035 19.2428 6.2507 19.1667 6.34295 19.0711L11.9999 13.4141Z"
                      fill="var(--bs-body-color)"
                    />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Player Music List  -->

  <audio
    id="myAudio"
    ref="audioPlayer"
    :src="audioUrl"
    @timeupdate="onTimeUpdate"
  ></audio>

  <div class="playlist-ctn d-none"></div>
  <!---- Start Favorite voice--------------------->
  <div
    class="modal fade"
    id="FavoriteVoice"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="FavoriteVoiceLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-change-voice">
      <div class="modal-content">
        <div class="modal-body">
          <div class="col-12 px-sm-3 mb-2 mb-md-auto">
            <div class="row justify-content-between">
              <div>
                <button
                  type="button"
                  class="btn-close position-absolute end-0 me-3"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="col-md-4 col-lg-3 col-12">
                <div class="d-flex">
                  <h2 class="f24 mb-0"><b>Voice Lab</b></h2>
                  <img
                    src="../../images/microphone-emoji.png"
                    width="32"
                    height="32"
                    alt="microphone-emoji"
                  />
                </div>
                <p class="mb-3 mb-lg-auto">Craft, Customize, Captivate.</p>
              </div>
              <div class="col-md-7 col-lg-6 col-12 mb-3 mb-md-0">
                <div class="d-flex">
                  <input
                    type="text"
                    class="form-control h-40px"
                    v-model="fsearchText"
                    placeholder="Search"
                  />
                  <button class="btn btn-secondary px-2 mx-2">
                    <svg
                      width="25"
                      height="25"
                      viewBox="0 0 25 25"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M12 5C8.68629 5 6 7.68629 6 11C6 14.3137 8.68629 17 12 17C15.3137 17 18 14.3137 18 11C18 7.68629 15.3137 5 12 5ZM4 11C4 6.58172 7.58172 3 12 3C16.4183 3 20 6.58172 20 11C20 15.4183 16.4183 19 12 19C7.58172 19 4 15.4183 4 11Z"
                        fill="var(--bs-body-bg)"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M9.17157 8.17157C9.92172 7.42143 10.9391 7 12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4696 9 10.9609 9.21071 10.5858 9.58579C10.2107 9.96086 10 10.4696 10 11C10 11.5523 9.55228 12 9 12C8.44772 12 8 11.5523 8 11C8 9.93913 8.42143 8.92172 9.17157 8.17157ZM17.2929 16.2929C17.6834 15.9024 18.3166 15.9024 18.7071 16.2929L21.7071 19.2929C22.0976 19.6834 22.0976 20.3166 21.7071 20.7071C21.3166 21.0976 20.6834 21.0976 20.2929 20.7071L17.2929 17.7071C16.9024 17.3166 16.9024 16.6834 17.2929 16.2929Z"
                        fill="var(--bs-body-bg)"
                      />
                    </svg>
                  </button>
                </div>
              </div>
              <div class="col-12-4 col-lg-3 col-12 mb-3 mb-lg-0">
                <div
                  class="d-flex justify-content-between justify-content-lg-end me-lg-3"
                >
                  <button
                    class="btn btn-secondary px-2 d-block d-lg-none"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseFilters"
                    aria-expanded="false"
                    aria-controls="collapseExample"
                  >
                    Filter
                  </button>
                  <div class="d-flex">
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="ffavvoice"
                      @click="favvoice"
                      v-model="ffavvoice"
                    />
                    <label for="ffavvoice" class="btn btn-light px-2 me-2">
                      <svg
                        width="25"
                        height="25"
                        viewBox="0 0 25 25"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M14.4293 4.74958C13.548 5.22428 12.4522 5.22414 11.5709 4.74923C9.82563 3.80866 8.01727 3.79515 6.48837 4.47717C4.42884 5.39904 3 7.53524 3 9.99841C3 12.4189 4.03256 14.2663 5.38791 15.7558C6.47256 16.9483 7.8 17.9465 8.97302 18.8275C9.23907 19.0273 9.49674 19.2217 9.7414 19.4106C10.2186 19.7775 10.7302 20.168 11.2484 20.4641C11.7665 20.7593 12.3581 21 13 21C13.6419 21 14.2335 20.7593 14.7516 20.4641C15.2707 20.168 15.7814 19.7775 16.2586 19.4106C16.5134 19.2145 16.7695 19.0202 17.027 18.8275C18.1991 17.9465 19.5274 16.9474 20.6121 15.7558C21.9674 14.2663 23 12.4189 23 9.99841C23 7.53524 21.5721 5.39904 19.5116 4.47899C17.9828 3.79629 16.1745 3.80961 14.4293 4.74958Z"
                          stroke="var(--bs-body-color)"
                          stroke-width="2"
                        />
                      </svg>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 px-sm-3">
            <div class="row">
              <div class="col-lg-3 col-12 d-grid px-2">
                <div
                  class="overflow-y-scroll h-75vh mb-2 scroll-gray navbar-expand-lg collapseFilters"
                  id="collapseFilters"
                >
                  <div class="m-1 mb-2 light-bg p-2">
                    <div
                      class="d-flex justify-content-evenly"
                      role="group"
                      aria-label="Basic radio toggle button group"
                    >
                      <input
                        type="radio"
                        class="btn-check"
                        name="fall-voice"
                        v-model="fselectedGender"
                        value=""
                        id="fall-voice"
                        checked
                      />
                      <label
                        class="btn btn-outline-dark mb-0 check-group"
                        for="fall-voice"
                        >All</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        id="fmalevoice"
                        v-model="fselectedGender"
                        value="male"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark mb-0 check-group"
                        for="fmalevoice"
                        >Male</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        id="ffemalevoice"
                        v-model="fselectedGender"
                        value="female"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark mb-0 check-group"
                        for="ffemalevoice"
                        >Female</label
                      >
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-3 d-flex flex-wrap">
                    <div v-for="use_case in uniqueUseCases" :key="use_case">
                      <input
                        type="checkbox"
                        class="btn-check"
                        :id="use_case"
                        v-model="fselectedUseCase"
                        :value="use_case"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark gray-bg mb-0 check-group p-1 px-2 mb-2 me-2 f14 text-start"
                        :for="use_case"
                      >
                        {{ use_case }}</label
                      >
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-3 pe-1">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn1"
                      />
                      <label class="form-check-label" for="sortRadioBtn1">
                        Sort: TrendingðŸ”¥
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn2"
                        checked
                      />
                      <label class="form-check-label" for="sortRadioBtn2">
                        Sort: LatestðŸŒŸ
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn3"
                        checked
                      />
                      <label class="form-check-label" for="sortRadioBtn3">
                        Sort: Most UsersðŸ‘‘
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn4"
                        checked
                      />
                      <label class="form-check-label" for="sortRadioBtn4">
                        Sort: Most Character Generated ðŸ‘¥
                      </label>
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-2 d-flex flex-wrap">
                    <div v-for="age in uniqueage" :key="age">
                      <input
                        type="checkbox"
                        class="btn-check"
                        :id="age"
                        v-model="fselectedAge"
                        :value="age"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark gray-bg mb-0 check-group p-1 px-3 mb-2 me-2 f14"
                        :for="age"
                        >{{ age }}</label
                      >
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-2 d-flex flex-wrap">
                    <div v-for="accent in uniqueaccent" :key="accent">
                      <input
                        type="checkbox"
                        class="btn-check accentcheck"
                        :id="accent"
                        v-model="fselectedAccent"
                        :value="accent"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark gray-bg mb-0 check-group p-1 px-2 mb-2 me-2 f14"
                        :for="accent"
                        >{{ accent }}</label
                      >
                    </div>
                  </div>
                </div>

                <button
                  type="button"
                  class="btn btn-secondary d-none d-lg-block p-2"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                >
                  Select & Exit
                </button>
              </div>
              <div
                class="col-lg-9 col-12 overflow-y-scroll h-80vh scroll-gray mb-3 mb-lg-auto"
              >
                <div
                  class="row row-cols-1 row-cols-md-3 row-cols-lg-3 row-cols-xl-4 g-4"
                >
                  <!-- col repeate  -->

                  <div
                    class="col sample-voice-play"
                    v-for="(item, index) in voicefilteredItems"
                    :key="index"
                    :id="'divselect-voice-' + index"
                  >
                    <div class="card h-100 p-3">
                      <div
                        class="d-flex justify-content-center px-4"
                        style="margin-bottom: -10px"
                      >
                        <div
                          class="btn-group"
                          role="group"
                          aria-label="Basic checkbox toggle button group"
                        >
                          <input
                            v-if="isfavorite(item)"
                            :value="isfavorite(item)"
                            :checked="isfavorite(item)"
                            type="checkbox"
                            class="btn-check"
                            :id="item.voice_id"
                            v-model="favdata"
                            autocomplete="off"
                            @click="voiceremovefromfav(item)"
                          />
                          <input
                            v-else
                            type="checkbox"
                            :value="isfavorite(item)"
                            class="btn-check"
                            :id="item.voice_id"
                            autocomplete="off"
                            v-model="favdata"
                            @click="voiceaddtofav(item)"
                          />

                          <label
                            v-if="isfavorite(item)"
                            class="btn btn-removefavorite"
                            :for="item.voice_id"
                          ></label>
                          <label
                            v-else
                            class="btn btn-favorite"
                            :for="item.voice_id"
                            :id="'favoritelbl-' + index"
                          ></label>
                        </div>
                        <img
                          v-if="item.labels.gender === 'male'"
                          src="../../images/voice-1-img.png"
                          alt="voice-img"
                          width="200"
                          height="200"
                          class="img-fluid mx-auto d-block"
                        />
                        <img
                          v-else
                          src="../../images/voice-2-img.png"
                          alt="voice-img"
                          width="200"
                          height="200"
                          class="img-fluid mx-auto d-block"
                        />
                        <div class="form-check">
                          <input
                            class="form-check-input large"
                            type="radio"
                            @click="selectVoice(item.voice_id)"
                            name="select-voice"
                            :id="item.voice_id"
                          />
                          <label class="form-check-label" :for="item.voice_id">
                          </label>
                        </div>
                      </div>
                      <div
                        :id="'audio-' + index"
                        :ref="'audio-' + index"
                        @click="playAudio(index, item)"
                        aria-label="play-audio"
                        style="margin-top: -45px"
                      >
                        <audio :src="item.preview_url"></audio>
                        <div
                          :id="'playAudioBtn-' + index" class="play-btn-2 minus-margin img-fluid mx-auto d-block"
                        ></div>
                      </div>
                      <div class="card-body text-center">
                        <p class="card-title f20">
                          <b>{{ item.name }} - {{ item.category }}</b>
                        </p>
                        <p class="card-text mb-2 f14">
                          {{ item.labels.age }} {{ item.labels.gender }}
                        </p>
                        <p class="c-gray f14">{{ item.labels.description }}</p>
                        <div class="d-flex flex-wrap justify-content-center">
                          <p class="mb-2 f12">
                            <span class="ptext-pbg p-1 px-3 me-1">{{
                              item.labels.accent || item.labels.descriptive
                            }}</span>
                          </p>

                          <p class="mb-2 f12">
                            <span class="ytext-ybg p-1 px-3 me-1">{{
                              item.labels["use case"] || item.labels.use_case
                            }}</span>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- col repeate end -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!---- End Favorite voice--------------------->

  <!-- select voice type modal  -->
  <div class="modal fade" id="SelectVoiceType" tabindex="-1" aria-labelledby="SelectVoiceTypeLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
          <div class="modal-content">
              <div class="modal-body p-0">
                  <div><button type="button" class="btn-close float-end mt-3 me-3" data-bs-dismiss="modal" aria-label="Close"></button></div>
                  <div class="p-md-5 p-4">
                      <p class="f24 mb-2"><b>Type of voice to create</b></p>
                      <div class="d-grid">
                          <div class="justify-content-evenly" role="group" aria-label="Basic radio toggle button group">
                              <div data-bs-toggle="modal" data-bs-target="#CreateCustomVoice">
                                  <input type="radio" name="versionname" class="btn-check" autocomplete="off" checked/>
                                  <label class="btn btn-white p-2 px-3 text-start mb-3 w-100">
                                      <span class="f20">Voice Design</span>
                                      <br />
                                      Design entirely new voices by adjusting their parameters. Every voice you create is randomly generated and is entirely unique even if the same settings are applied. 
                                  </label>
                              </div>
                              <div data-bs-toggle="modal" data-bs-target="#FavoriteVoice">
                                  <input type="radio" name="versionname" class="btn-check" autocomplete="off" checked/>
                                  <label class="btn btn-white p-2 px-3 text-start mb-3 w-100">
                                      <span class="f20">Voice Library</span>
                                      <br />
                                      Add a voice from our community.
                                  </label>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
  <!-- Select Voice  -->

  <!-- Select Voice  -->
  <div
    class="modal fade"
    id="SelectVoice"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="SelectVoiceLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-change-voice">
      <div class="modal-content">
        <div class="modal-body">
          <div class="col-12 px-sm-3 mb-2 mb-md-auto">
            <div class="row justify-content-between">
              <div>
                <button
                  type="button"
                  class="btn-close position-absolute end-0 me-3"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                  @click="toggleVisibility"
                ></button>
              </div>
              <div class="col-md-4 col-lg-3 col-12">
                <div class="d-flex">
                  <h2 class="f24 mb-0"><b>Voice Library</b></h2>
                  <img
                    src="../../images/microphone-emoji.png"
                    width="32"
                    height="32"
                    alt="microphone-emoji"
                  />
                </div>
                <p class="mb-3 mb-lg-auto">Craft, Customize, Captivate.</p>
              </div>
              <div class="col-md-7 col-lg-6 col-12 mb-3 mb-md-0">
                <div class="d-flex">
                  <input
                    type="text"
                    class="form-control h-40px"
                    v-model="searchText"
                    placeholder="Search"
                  />
                  <button class="btn btn-secondary px-2 mx-2">
                    <svg
                      width="25"
                      height="25"
                      viewBox="0 0 25 25"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M12 5C8.68629 5 6 7.68629 6 11C6 14.3137 8.68629 17 12 17C15.3137 17 18 14.3137 18 11C18 7.68629 15.3137 5 12 5ZM4 11C4 6.58172 7.58172 3 12 3C16.4183 3 20 6.58172 20 11C20 15.4183 16.4183 19 12 19C7.58172 19 4 15.4183 4 11Z"
                        fill="var(--bs-body-bg)"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M9.17157 8.17157C9.92172 7.42143 10.9391 7 12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4696 9 10.9609 9.21071 10.5858 9.58579C10.2107 9.96086 10 10.4696 10 11C10 11.5523 9.55228 12 9 12C8.44772 12 8 11.5523 8 11C8 9.93913 8.42143 8.92172 9.17157 8.17157ZM17.2929 16.2929C17.6834 15.9024 18.3166 15.9024 18.7071 16.2929L21.7071 19.2929C22.0976 19.6834 22.0976 20.3166 21.7071 20.7071C21.3166 21.0976 20.6834 21.0976 20.2929 20.7071L17.2929 17.7071C16.9024 17.3166 16.9024 16.6834 17.2929 16.2929Z"
                        fill="var(--bs-body-bg)"
                      />
                    </svg>
                  </button>
                </div>
              </div>
              <div class="col-12-4 col-lg-3 col-12 mb-3 mb-lg-0">
                <div
                  class="d-flex justify-content-between justify-content-lg-end me-lg-3"
                >
                  <button
                    class="btn btn-secondary px-2 d-block d-lg-none"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseFilters"
                    aria-expanded="false"
                    aria-controls="collapseExample"
                  >
                    Filter
                  </button>
                  <div class="d-flex">
                    <button
                      data-bs-toggle="modal"
                      @click="getaddedvoices()"
                      data-bs-target="#FavoriteVoice"
                      class="btn btn-light px-2 me-2"
                    >
                      <svg
                        width="25"
                        height="25"
                        viewBox="0 0 25 25"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M14.4293 4.74958C13.548 5.22428 12.4522 5.22414 11.5709 4.74923C9.82563 3.80866 8.01727 3.79515 6.48837 4.47717C4.42884 5.39904 3 7.53524 3 9.99841C3 12.4189 4.03256 14.2663 5.38791 15.7558C6.47256 16.9483 7.8 17.9465 8.97302 18.8275C9.23907 19.0273 9.49674 19.2217 9.7414 19.4106C10.2186 19.7775 10.7302 20.168 11.2484 20.4641C11.7665 20.7593 12.3581 21 13 21C13.6419 21 14.2335 20.7593 14.7516 20.4641C15.2707 20.168 15.7814 19.7775 16.2586 19.4106C16.5134 19.2145 16.7695 19.0202 17.027 18.8275C18.1991 17.9465 19.5274 16.9474 20.6121 15.7558C21.9674 14.2663 23 12.4189 23 9.99841C23 7.53524 21.5721 5.39904 19.5116 4.47899C17.9828 3.79629 16.1745 3.80961 14.4293 4.74958Z"
                          stroke="var(--bs-body-color)"
                          stroke-width="2"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 px-sm-3">
            <div class="row">
              <div class="col-lg-3 col-12 d-grid px-2">
                <div
                  class="overflow-y-scroll h-100vh mb-2 scroll-gray navbar-expand-lg collapseFilters"
                  id="collapseFilters"
                >
                  <div class="m-1 mb-2 light-bg p-2">
                    <div
                      class="d-flex justify-content-evenly"
                      role="group"
                      aria-label="Basic radio toggle button group"
                    >
                      <input
                        type="radio"
                        class="btn-check"
                        name="all-voice"
                        v-model="selectedGender"
                        value=""
                        id="all-voice"
                        autocomplete="off"
                        checked
                      />
                      <label
                        class="btn btn-outline-dark mb-0 check-group"
                        for="all-voice"
                        >All</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        id="malevoice"
                        v-model="selectedGender"
                        value="male"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark mb-0 check-group"
                        for="malevoice"
                        >Male</label
                      >
                      <input
                        type="radio"
                        class="btn-check"
                        id="femalevoice"
                        v-model="selectedGender"
                        value="female"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark mb-0 check-group"
                        for="femalevoice"
                        >Female</label
                      >
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-3 d-flex flex-wrap">
                    <div
                      v-for="use_case in items.use_cases"
                      :key="use_case.shortname"
                    >
                      <input
                        type="checkbox"
                        class="btn-check"
                        :id="use_case.shortname"
                        v-model="selectedUseCase"
                        :value="use_case.shortname"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark gray-bg mb-0 check-group p-1 px-2 mb-2 me-2 f14 text-start"
                        :for="use_case.shortname"
                      >
                        {{ use_case.name }}</label
                      >
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-3 pe-1">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn1"
                      />
                      <label class="form-check-label" for="sortRadioBtn1">
                        Sort: TrendingðŸ”¥
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn2"
                        checked
                      />
                      <label class="form-check-label" for="sortRadioBtn2">
                        Sort: LatestðŸŒŸ
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn3"
                        checked
                      />
                      <label class="form-check-label" for="sortRadioBtn3">
                        Sort: Most UsersðŸ‘‘
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="sortRadioBtn"
                        id="sortRadioBtn4"
                        checked
                      />
                      <label class="form-check-label" for="sortRadioBtn4">
                        Sort: Most Character Generated ðŸ‘¥
                      </label>
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-2 d-flex flex-wrap">
                    <div v-for="age in items.age" :key="age.shortname">
                      <input
                        type="checkbox"
                        class="btn-check"
                        :id="age.shortname"
                        v-model="selectedAge"
                        :value="age.shortname"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark gray-bg mb-0 check-group p-1 px-3 mb-2 me-2 f14"
                        :for="age.shortname"
                        >{{ age.name }}</label
                      >
                    </div>
                  </div>
                  <div class="m-1 mb-2 light-bg p-2 d-flex flex-wrap">
                    <div v-for="accent in items.accent" :key="accent.shortname">
                      <input
                        type="checkbox"
                        class="btn-check accentcheck"
                        :id="accent.shortname"
                        v-model="selectedAccent"
                        :value="accent.shortname"
                        autocomplete="off"
                      />
                      <label
                        class="btn btn-outline-dark gray-bg mb-0 check-group p-1 px-2 mb-2 me-2 f14"
                        :for="accent.shortname"
                        >{{ accent.name }}</label
                      >
                    </div>
                  </div>
                </div>
                <button class="btn btn-secondary d-none d-lg-block p-2">
                  Select & Exit
                </button>
              </div>
              <div
                id="infiniteloop"
                class="col-lg-9 col-12 overflow-y-scroll h-569px scroll-gray mb-3 mb-lg-auto"
              >
                <div
                  class="row row-cols-1 row-cols-md-3 row-cols-lg-3 row-cols-xl-4 g-4"
                >
                  <!-- col repeate  -->

                  <div
                    class="col sample-voice-play"
                    id="divselect-voice1"
                    v-for="(item, index) in filteredItems"
                    :key="index"
                  >
                    <div class="card h-100 p-3">
                      <div
                        class="d-flex justify-content-center px-4"
                        style="margin-bottom: -10px"
                      >
                        <div
                          class="btn-group"
                          role="group"
                          aria-label="Basic checkbox toggle button group"
                        >
                          <input
                            v-if="!isfavorite(item)"
                            type="checkbox"
                            class="btn-check"
                            :id="item.voice_id"
                            autocomplete="off"
                            @change="addtofavoritemodal(index, item)"
                            data-bs-toggle="modal"
                            data-bs-target="#addtofavorite"
                            :checked="isfavorite(item)"
                          />

                          <label
                            v-if="!isfavorite(item)"
                            class="btn btn-favorite"
                            :for="item.voice_id"
                          ></label>
                          <input
                            v-else
                            type="checkbox"
                            class="btn-check"
                            :id="item.voice_id"
                            autocomplete="off"
                            :checked="isfavorite(item)"
                          />
                          <label
                            v-else
                            class="btn btn-removefavorite"
                            :for="item.voice_id"
                          ></label>
                        </div>
                        <img
                          v-if="item.gender === 'male'"
                          src="../../images/voice-1-img.png"
                          alt="voice-img"
                          width="200"
                          height="200"
                          class="img-fluid mx-auto d-block"
                        />
                        <img
                          v-else
                          src="../../images/voice-2-img.png"
                          alt="voice-img"
                          width="200"
                          height="200"
                          class="img-fluid mx-auto d-block"
                        />
                      </div>
                      <div
                        :id="'audio-' + index"
                        :ref="'audio-' + index"
                        @click="playAudio(index, item)"
                        aria-label="play-audio"
                        style="margin-top: -45px"
                      >
                        <audio :src="item.preview_url"></audio>
                        <div
                          class="play-btn-2 minus-margin img-fluid mx-auto d-block"
                        ></div>
                      </div>
                      <div class="card-body text-center">
                        <p class="card-title f20">
                          <b>{{ item.name }} - {{ item.category }}</b>
                        </p>
                        <p class="card-text mb-2 f14">
                          {{ item.age }} {{ item.gender }}
                        </p>
                        <p class="c-gray f14">{{ item.description }}</p>
                        <div class="d-flex flex-wrap justify-content-center">
                          <p class="mb-2 f12">
                            <span class="ptext-pbg p-1 px-3 me-1">{{
                              item.accent
                            }}</span>
                          </p>
                          <p class="mb-2 f12">
                            <span class="ytext-ybg p-1 px-3 me-1">{{
                              item.use_case
                            }}</span>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- col repeate end -->
                </div>
                <div style="text-align: center; margin-top: 10px">
                  <pulse-loader
                    :loading="loading"
                    :color="color"
                    :size="size"
                  ></pulse-loader>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 px-sm-3 d-block d-lg-none">
            <div class="row">
              <div class="col-lg-3 col-12">
                <div class="d-grid">
                  <button class="btn btn-secondary p-2">SELECT</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Create Custom Voice  -->

  <div
    class="modal fade"
    id="CreateCustomVoice"
    ref="my-modal"
    tabindex="-1"
    aria-labelledby="CreateCustomVoiceLabel"
    aria-hidden="true"
    v-if="Object.keys(items).length > 0"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div>
            <button
              type="button"
              class="btn-close float-end mt-3 me-3"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="p-md-5 p-4">
            <p class="f24 mb-2"><b>Generate voice</b></p>
            <form @submit.prevent="submitForm">
              <input type="hidden" name="__token" :value="csrftoken" />
              <div>
                <p class="mb-2">Gender</p>
                <select
                  name="gender"
                  id="gender"
                  v-model="formData.gender"
                  class="form-select mb-3"
                  aria-label="Default select example"
                >
                  <option
                    v-for="pg in items.parameters.genders"
                    :value="pg.code"
                  >
                    {{ pg.name }}
                  </option>
                </select>
              </div>
              <div>
                <p class="mb-2">Age</p>
                <select
                  class="form-select mb-3"
                  id="age"
                  v-model="formData.age"
                  name="age"
                  aria-label="Default select example"
                >
                  <option v-for="ag in items.parameters.ages" :value="ag.code">
                    {{ ag.name }}
                  </option>
                </select>
              </div>
              <div>
                <p class="mb-2">Accent</p>
                <select
                  class="form-select mb-3"
                  name="accent"
                  id="accent"
                  v-model="formData.accent"
                  aria-label="Default select example"
                >
                  <option
                    v-for="ac in items.parameters.accents"
                    :value="ac.code"
                  >
                    {{ ac.name }}
                  </option>
                </select>
              </div>
              <div>
                <label for="AccentStrength1" class="form-label"
                  >Accent Strength</label
                >
                <input
                  type="range"
                  :min="items.parameters.minimum_accent_strength"
                  :max="items.parameters.maximum_accent_strength"
                  class="form-range"
                  defaultValue="0.5"
                  oninput="accent_strength.value = AccentStrength1.value"
                  id="AccentStrength1"
                  step="0.1"
                />
                <input
                  type="hidden"
                  value="1"
                  name="accent_strength"
                  v-model="formData.accent_strength"
                  id="accent_strength"
                />

                <div class="d-flex justify-content-between mb-3">
                  <p class="f14 mb-0">Low</p>
                  <p class="f14 mb-0">High</p>
                </div>
              </div>
              <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label"
                  >Example text Area</label
                >
                <textarea
                  class="form-control"
                  name="text"
                  id="exampleFormControlTextarea1"
                  v-model="formData.text"
                  @input="countChar"
                  rows="7"
                ></textarea>
                <div class="d-flex justify-content-between c-gray my-2">
                  <p>
                    {{ remainingChars }} /
                    {{ items.parameters.maximum_characters }}
                  </p>
                  <p>Total quota remaining: {{ remainingcount }}</p>
                </div>
              </div>
              <div class="d-grid">
                <button
                  type="submit"
                  class="btn btn-outline-dark p-2 px-3 mb-3"
                >
                  GENERATE
                </button>
              </div>
            </form>
            <button
              :disabled="disabeled"
              @click="!disabeled ? 'usevoice' : null"
              data-bs-toggle="modal"
              data-bs-target="#usevoicemodal"
              class="btn btn-secondary p-2 px-3 w-100"
            >
              Use Voice â†’
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-------------------------startusevoicemodal----------------------------------->
  <div
    class="modal fade"
    id="usevoicemodal"
    tabindex="-1"
    aria-labelledby="usevoiceLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div>
            <button
              type="button"
              class="btn-close float-end mt-3 me-3"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="p-md-5 p-4">
            <p class="f24 mb-2"><b>Add Voice</b></p>
            <form @submit.prevent="savevoice">
              <input type="hidden" name="__token" :value="csrftoken" />
              <div class="mb-2">
                <label for="nameofuser" class="form-label">Name</label>
                <input
                  type="text"
                  name="voice_name"
                  v-model="vformData.voice_name"
                  class="form-control"
                  id="nameofuser"
                  placeholder="Name"
                />
              </div>
              <p class="mb-2">Labels {{ labelCount }} / 5</p>
              <div class="d-sm-flex align-items-center mb-2">
                <span
                  v-for="(label, key) in labels"
                  class="ptext-pbg p-2 px-3 m-1 d-flex align-items-center justify-content-between"
                >
                  <span class="me-2 f14">{{ key }} : {{ label }}</span>
                  <a @click="deleteLabel(key)">
                    <svg
                      width="17"
                      height="17"
                      viewBox="0 0 17 17"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M8.5 0C3.80481 0 0 3.80587 0 8.5C0 13.1941 3.80481 17 8.5 17C13.1952 17 17 13.1941 17 8.5C17 3.80587 13.1952 0 8.5 0ZM12.4387 10.9363C12.6379 11.1355 12.7498 11.4058 12.7498 11.6875C12.7498 11.9692 12.6379 12.2395 12.4387 12.4387C12.2395 12.6379 11.9692 12.7498 11.6875 12.7498C11.4058 12.7498 11.1355 12.6379 10.9363 12.4387L8.5 10.0024L6.06369 12.4387C5.96524 12.5377 5.8482 12.6163 5.71928 12.6699C5.59036 12.7235 5.45212 12.7511 5.3125 12.7511C5.17288 12.7511 5.03464 12.7235 4.90572 12.6699C4.7768 12.6163 4.65976 12.5377 4.56131 12.4387C4.46256 12.3401 4.38421 12.223 4.33076 12.0941C4.2773 11.9652 4.24979 11.827 4.24979 11.6875C4.24979 11.548 4.2773 11.4098 4.33076 11.2809C4.38421 11.152 4.46256 11.0349 4.56131 10.9363L6.99763 8.5L4.56131 6.06369C4.36209 5.86446 4.25016 5.59425 4.25016 5.3125C4.25016 5.03075 4.36209 4.76054 4.56131 4.56131C4.76054 4.36209 5.03075 4.25016 5.3125 4.25016C5.59425 4.25016 5.86446 4.36209 6.06369 4.56131L8.5 6.99763L10.9363 4.56131C11.1355 4.36209 11.4058 4.25016 11.6875 4.25016C11.9692 4.25016 12.2395 4.36209 12.4387 4.56131C12.6379 4.76054 12.7498 5.03075 12.7498 5.3125C12.7498 5.59425 12.6379 5.86446 12.4387 6.06369L10.0024 8.5L12.4387 10.9363Z"
                        fill="var(--bs-body-color)"
                      />
                    </svg>
                  </a>
                </span>
                <a @click="addmorelabel()">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    class="ms-2"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M10 2.1875C10.2486 2.1875 10.4871 2.28627 10.6629 2.46209C10.8387 2.6379 10.9375 2.87636 10.9375 3.125V9.0625H16.875C17.1236 9.0625 17.3621 9.16127 17.5379 9.33709C17.7137 9.5129 17.8125 9.75136 17.8125 10C17.8125 10.2486 17.7137 10.4871 17.5379 10.6629C17.3621 10.8387 17.1236 10.9375 16.875 10.9375H10.9375V16.875C10.9375 17.1236 10.8387 17.3621 10.6629 17.5379C10.4871 17.7137 10.2486 17.8125 10 17.8125C9.75136 17.8125 9.5129 17.7137 9.33709 17.5379C9.16127 17.3621 9.0625 17.1236 9.0625 16.875V10.9375H3.125C2.87636 10.9375 2.6379 10.8387 2.46209 10.6629C2.28627 10.4871 2.1875 10.2486 2.1875 10C2.1875 9.75136 2.28627 9.5129 2.46209 9.33709C2.6379 9.16127 2.87636 9.0625 3.125 9.0625H9.0625V3.125C9.0625 2.87636 9.16127 2.6379 9.33709 2.46209C9.5129 2.28627 9.75136 2.1875 10 2.1875Z"
                      fill="var(--bs-body-color)"
                    />
                  </svg>
                </a>
              </div>
              <div
                class="d-flex align-items-center mb-3"
                id="addmoreinput"
                v-if="showAdditionalInput"
              >
                <input
                  type="text"
                  class="form-control w-25 h-25"
                  id="labelkey"
                  v-model="labelkey"
                />
                <p class="mb-0 mx-3">:</p>
                <input
                  type="text"
                  class="form-control w-25 h-25 me-3"
                  id="labelvalue"
                  v-model="labelvalue"
                />
                <a @click="addNewLabel()" class="btn p-0">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5 14.3333L9.8 18L20 7"
                      stroke="#2E303F"
                      stroke-width="3"
                      stroke-linecap="round"
                    /></svg
                ></a>
              </div>
              <div class="mb-3">
                <label for="voicedesciptionedit" class="form-label"
                  >Description</label
                >
                <textarea
                  v-model="vformData.voice_description"
                  class="form-control"
                  id="voicedesciptionedit"
                  rows="5"
                  min="10"
                  max="400"
                  placeholder="Type here..."
                ></textarea>
                <div class="d-md-flex justify-content-between c-gray my-2">
                  <p class="mb-0">400</p>
                </div>
              </div>
              <div class="d-flex justify-content-center">
                <button
                  class="btn btn-outline-dark p-2 px-4 mx-1"
                  data-bs-dismiss="modal"
                >
                  Cancel
                </button>
                <button type="submit" class="btn btn-secondary p-2 px-4 mx-1">
                  Submit
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-------------------------endusevoicemodal----------------------------------->
  <!-- Setting Modal -->

  <div
    class="modal fade"
    id="VoiceSetting"
    tabindex="-1"
    aria-labelledby="VoiceSettingLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div>
            <button
              type="button"
              class="btn-close float-end mt-3 me-3"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="p-md-5 p-4">
            <p class="f24 mb-2"><b>Voice Setting</b></p>
            <form @submit.prevent="updateVoiceSetting()">
              <div>
                <label for="AccentStrength1" class="form-label"
                  >Stability</label
                >
                <div class="range-wrap">
                  <div id="rangeVError" class="warning-div d-none"><span>Under 30% may lead to instability</span></div>
                  <div class="range-value" id="rangeV"></div>
                  <input type="hidden" id="range" :value="sformData.stability">
                  <input
                    id="stabilityRange"
                    type="range"
                    min="0"
                    max="100"
                    step="1"
                    v-bind:value="temporaryValues.stability"
                    @input="setVoiceRange('stabilityRange','rangeV','range','<',30)"
                  />
                </div>
                <div class="d-flex justify-content-between mb-3">
                  <p class="f14 mb-0 c-gray">
                    More variable
                    <a
                      href="#"
                      class="d-inline-block"
                      data-bs-toggle="tooltip"
                      data-bs-title="Increasing variability can make speech more expressive with output varying between re-generations. It can also lead to instabilities."
                    >
                      <svg
                        width="13"
                        height="13"
                        viewBox="0 0 13 13"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6.5 0.25C9.95187 0.25 12.75 3.04813 12.75 6.5C12.75 9.95187 9.95187 12.75 6.5 12.75C3.04813 12.75 0.25 9.95187 0.25 6.5C0.25 3.04813 3.04813 0.25 6.5 0.25ZM6.49375 5.25H5.875C5.7157 5.25018 5.56248 5.31117 5.44664 5.42053C5.33081 5.52989 5.2611 5.67935 5.25177 5.83837C5.24243 5.9974 5.29417 6.15399 5.39642 6.27614C5.49866 6.3983 5.64369 6.47681 5.80188 6.49563L5.875 6.5V9.61875C5.875 9.94375 6.12125 10.2125 6.4375 10.2463L6.50625 10.25H6.8125C6.94395 10.25 7.07205 10.2086 7.17858 10.1316C7.28512 10.0546 7.36468 9.94596 7.40593 9.82116C7.44719 9.69636 7.44804 9.56172 7.40838 9.43641C7.36872 9.31109 7.29055 9.20146 7.185 9.12313L7.125 9.08375V5.88125C7.125 5.55625 6.87875 5.2875 6.5625 5.25375L6.49375 5.25ZM6.5 3.375C6.33424 3.375 6.17527 3.44085 6.05806 3.55806C5.94085 3.67527 5.875 3.83424 5.875 4C5.875 4.16576 5.94085 4.32473 6.05806 4.44194C6.17527 4.55915 6.33424 4.625 6.5 4.625C6.66576 4.625 6.82473 4.55915 6.94194 4.44194C7.05915 4.32473 7.125 4.16576 7.125 4C7.125 3.83424 7.05915 3.67527 6.94194 3.55806C6.82473 3.44085 6.66576 3.375 6.5 3.375Z"
                          fill="#8E8FA6"
                        />
                      </svg>
                    </a>
                  </p>
                  <p class="f14 mb-0 c-gray">
                    More stable
                    <a
                      class="d-inline-block"
                      data-bs-toggle="tooltip"
                      data-bs-title="Increasing stability will make the voice more consistent between re- generations, but it can also make it sounds a bit monotone. On longer text fragments we recommend lowering this value."
                    >
                      <svg
                        width="13"
                        height="13"
                        viewBox="0 0 13 13"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6.5 0.25C9.95187 0.25 12.75 3.04813 12.75 6.5C12.75 9.95187 9.95187 12.75 6.5 12.75C3.04813 12.75 0.25 9.95187 0.25 6.5C0.25 3.04813 3.04813 0.25 6.5 0.25ZM6.49375 5.25H5.875C5.7157 5.25018 5.56248 5.31117 5.44664 5.42053C5.33081 5.52989 5.2611 5.67935 5.25177 5.83837C5.24243 5.9974 5.29417 6.15399 5.39642 6.27614C5.49866 6.3983 5.64369 6.47681 5.80188 6.49563L5.875 6.5V9.61875C5.875 9.94375 6.12125 10.2125 6.4375 10.2463L6.50625 10.25H6.8125C6.94395 10.25 7.07205 10.2086 7.17858 10.1316C7.28512 10.0546 7.36468 9.94596 7.40593 9.82116C7.44719 9.69636 7.44804 9.56172 7.40838 9.43641C7.36872 9.31109 7.29055 9.20146 7.185 9.12313L7.125 9.08375V5.88125C7.125 5.55625 6.87875 5.2875 6.5625 5.25375L6.49375 5.25ZM6.5 3.375C6.33424 3.375 6.17527 3.44085 6.05806 3.55806C5.94085 3.67527 5.875 3.83424 5.875 4C5.875 4.16576 5.94085 4.32473 6.05806 4.44194C6.17527 4.55915 6.33424 4.625 6.5 4.625C6.66576 4.625 6.82473 4.55915 6.94194 4.44194C7.05915 4.32473 7.125 4.16576 7.125 4C7.125 3.83424 7.05915 3.67527 6.94194 3.55806C6.82473 3.44085 6.66576 3.375 6.5 3.375Z"
                          fill="#8E8FA6"
                        />
                      </svg>
                    </a>
                  </p>
                </div>
              </div>
              <div>
                <label for="AccentStrength1" class="form-label"
                  >Clarity + Similarity Enhancement</label
                >
                <div class="range-wrap">
                  <input type="hidden" id="range2" :value="sformData.similarity_boost">
                  <div class="range-value" id="rangeV2"></div>
                  <input
                    id="simiEnhanceRange"
                    type="range"
                    min="0"
                    max="100"
                    step="1"
                    v-bind:value="temporaryValues.similarity_boost"
                    @input="setVoiceRange('simiEnhanceRange','rangeV2','range2','','')"
                  />
                </div>
                <div class="d-flex justify-content-between mb-3">
                  <p class="f14 mb-0 c-gray">
                    Low
                    <a
                      href="#"
                      class="d-inline-block"
                      data-bs-toggle="tooltip"
                      data-bs-title="Low values are recommended if background artifacts are present in generated speech."
                    >
                      <svg
                        width="13"
                        height="13"
                        viewBox="0 0 13 13"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6.5 0.25C9.95187 0.25 12.75 3.04813 12.75 6.5C12.75 9.95187 9.95187 12.75 6.5 12.75C3.04813 12.75 0.25 9.95187 0.25 6.5C0.25 3.04813 3.04813 0.25 6.5 0.25ZM6.49375 5.25H5.875C5.7157 5.25018 5.56248 5.31117 5.44664 5.42053C5.33081 5.52989 5.2611 5.67935 5.25177 5.83837C5.24243 5.9974 5.29417 6.15399 5.39642 6.27614C5.49866 6.3983 5.64369 6.47681 5.80188 6.49563L5.875 6.5V9.61875C5.875 9.94375 6.12125 10.2125 6.4375 10.2463L6.50625 10.25H6.8125C6.94395 10.25 7.07205 10.2086 7.17858 10.1316C7.28512 10.0546 7.36468 9.94596 7.40593 9.82116C7.44719 9.69636 7.44804 9.56172 7.40838 9.43641C7.36872 9.31109 7.29055 9.20146 7.185 9.12313L7.125 9.08375V5.88125C7.125 5.55625 6.87875 5.2875 6.5625 5.25375L6.49375 5.25ZM6.5 3.375C6.33424 3.375 6.17527 3.44085 6.05806 3.55806C5.94085 3.67527 5.875 3.83424 5.875 4C5.875 4.16576 5.94085 4.32473 6.05806 4.44194C6.17527 4.55915 6.33424 4.625 6.5 4.625C6.66576 4.625 6.82473 4.55915 6.94194 4.44194C7.05915 4.32473 7.125 4.16576 7.125 4C7.125 3.83424 7.05915 3.67527 6.94194 3.55806C6.82473 3.44085 6.66576 3.375 6.5 3.375Z"
                          fill="#8E8FA6"
                        />
                      </svg>
                    </a>
                  </p>
                  <p class="f14 mb-0 c-gray">
                    High
                    <a
                      href="#"
                      class="d-inline-block"
                      data-bs-toggle="tooltip"
                      data-bs-title="High enhancement boosts overall voice clarity and target speaker similarity. Very high values can cause artifacts, so adjusting this setting to find the optimal value is encouraged."
                    >
                      <svg
                        width="13"
                        height="13"
                        viewBox="0 0 13 13"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6.5 0.25C9.95187 0.25 12.75 3.04813 12.75 6.5C12.75 9.95187 9.95187 12.75 6.5 12.75C3.04813 12.75 0.25 9.95187 0.25 6.5C0.25 3.04813 3.04813 0.25 6.5 0.25ZM6.49375 5.25H5.875C5.7157 5.25018 5.56248 5.31117 5.44664 5.42053C5.33081 5.52989 5.2611 5.67935 5.25177 5.83837C5.24243 5.9974 5.29417 6.15399 5.39642 6.27614C5.49866 6.3983 5.64369 6.47681 5.80188 6.49563L5.875 6.5V9.61875C5.875 9.94375 6.12125 10.2125 6.4375 10.2463L6.50625 10.25H6.8125C6.94395 10.25 7.07205 10.2086 7.17858 10.1316C7.28512 10.0546 7.36468 9.94596 7.40593 9.82116C7.44719 9.69636 7.44804 9.56172 7.40838 9.43641C7.36872 9.31109 7.29055 9.20146 7.185 9.12313L7.125 9.08375V5.88125C7.125 5.55625 6.87875 5.2875 6.5625 5.25375L6.49375 5.25ZM6.5 3.375C6.33424 3.375 6.17527 3.44085 6.05806 3.55806C5.94085 3.67527 5.875 3.83424 5.875 4C5.875 4.16576 5.94085 4.32473 6.05806 4.44194C6.17527 4.55915 6.33424 4.625 6.5 4.625C6.66576 4.625 6.82473 4.55915 6.94194 4.44194C7.05915 4.32473 7.125 4.16576 7.125 4C7.125 3.83424 7.05915 3.67527 6.94194 3.55806C6.82473 3.44085 6.66576 3.375 6.5 3.375Z"
                          fill="#8E8FA6"
                        />
                      </svg>
                    </a>
                  </p>
                </div>
              </div>
              <div>
                <label for="AccentStrength1" class="form-label"
                  >Style Exaggeration</label
                >
                <div class="range-wrap">
                  <input type="hidden" id="range3" v-bind:value="sformData.style">
                  <div id="rangeV3Error" class="warning-div d-none"><span>Over 50% may lead to instability</span></div>
                  <div class="range-value" id="rangeV3"></div>
                  <input
                    id="styleExagRange"
                    type="range"
                    min="0"
                    max="100"
                    step="1"
                    v-bind:value="temporaryValues.style"
                    @input="setVoiceRange('styleExagRange','rangeV3','range3','>',50)"
                  />
                </div>
                <div class="d-flex justify-content-between mb-3">
                  <p class="f14 mb-0 c-gray">None (Fastest)</p>
                  <p class="f14 mb-0 c-gray">
                    Exaggerated
                    <a
                      href="#"
                      class="d-inline-block"
                      data-bs-toggle="tooltip"
                      data-bs-title="Amplifies speech expressiveness for a dramatic, emotive output; best for storytelling. Use moderately to maintain natural voice quality"
                    >
                      <svg
                        width="13"
                        height="13"
                        viewBox="0 0 13 13"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M6.5 0.25C9.95187 0.25 12.75 3.04813 12.75 6.5C12.75 9.95187 9.95187 12.75 6.5 12.75C3.04813 12.75 0.25 9.95187 0.25 6.5C0.25 3.04813 3.04813 0.25 6.5 0.25ZM6.49375 5.25H5.875C5.7157 5.25018 5.56248 5.31117 5.44664 5.42053C5.33081 5.52989 5.2611 5.67935 5.25177 5.83837C5.24243 5.9974 5.29417 6.15399 5.39642 6.27614C5.49866 6.3983 5.64369 6.47681 5.80188 6.49563L5.875 6.5V9.61875C5.875 9.94375 6.12125 10.2125 6.4375 10.2463L6.50625 10.25H6.8125C6.94395 10.25 7.07205 10.2086 7.17858 10.1316C7.28512 10.0546 7.36468 9.94596 7.40593 9.82116C7.44719 9.69636 7.44804 9.56172 7.40838 9.43641C7.36872 9.31109 7.29055 9.20146 7.185 9.12313L7.125 9.08375V5.88125C7.125 5.55625 6.87875 5.2875 6.5625 5.25375L6.49375 5.25ZM6.5 3.375C6.33424 3.375 6.17527 3.44085 6.05806 3.55806C5.94085 3.67527 5.875 3.83424 5.875 4C5.875 4.16576 5.94085 4.32473 6.05806 4.44194C6.17527 4.55915 6.33424 4.625 6.5 4.625C6.66576 4.625 6.82473 4.55915 6.94194 4.44194C7.05915 4.32473 7.125 4.16576 7.125 4C7.125 3.83424 7.05915 3.67527 6.94194 3.55806C6.82473 3.44085 6.66576 3.375 6.5 3.375Z"
                          fill="#8E8FA6"
                        />
                      </svg>
                    </a>
                  </p>
                </div>
              </div>
              <div class="form-check mb-3">
                <input
                  v-if="sformData.use_speaker_boost"
                  class="form-check-input"
                  type="checkbox"
                  checked
                  v-model="sformData.use_speaker_boost"
                  id="setting-speakerboost"
                />
                <input
                  v-else
                  class="form-check-input"
                  type="checkbox"
                  v-model="sformData.use_speaker_boost"
                  id="setting-speakerboost"
                />
                <label class="form-check-label" for="setting-speakerboost">
                  Speaker Boost
                  <a
                    href="#"
                    class="d-inline-block"
                    data-bs-toggle="tooltip"
                    data-bs-title=" Enhances vocal presence for clearer, more impactful speech. Ideal for clarity in noisy environments or when distinct articulation is required. "
                  >
                    <svg
                      width="13"
                      height="13"
                      viewBox="0 0 13 13"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M6.5 0.25C9.95187 0.25 12.75 3.04813 12.75 6.5C12.75 9.95187 9.95187 12.75 6.5 12.75C3.04813 12.75 0.25 9.95187 0.25 6.5C0.25 3.04813 3.04813 0.25 6.5 0.25ZM6.49375 5.25H5.875C5.7157 5.25018 5.56248 5.31117 5.44664 5.42053C5.33081 5.52989 5.2611 5.67935 5.25177 5.83837C5.24243 5.9974 5.29417 6.15399 5.39642 6.27614C5.49866 6.3983 5.64369 6.47681 5.80188 6.49563L5.875 6.5V9.61875C5.875 9.94375 6.12125 10.2125 6.4375 10.2463L6.50625 10.25H6.8125C6.94395 10.25 7.07205 10.2086 7.17858 10.1316C7.28512 10.0546 7.36468 9.94596 7.40593 9.82116C7.44719 9.69636 7.44804 9.56172 7.40838 9.43641C7.36872 9.31109 7.29055 9.20146 7.185 9.12313L7.125 9.08375V5.88125C7.125 5.55625 6.87875 5.2875 6.5625 5.25375L6.49375 5.25ZM6.5 3.375C6.33424 3.375 6.17527 3.44085 6.05806 3.55806C5.94085 3.67527 5.875 3.83424 5.875 4C5.875 4.16576 5.94085 4.32473 6.05806 4.44194C6.17527 4.55915 6.33424 4.625 6.5 4.625C6.66576 4.625 6.82473 4.55915 6.94194 4.44194C7.05915 4.32473 7.125 4.16576 7.125 4C7.125 3.83424 7.05915 3.67527 6.94194 3.55806C6.82473 3.44085 6.66576 3.375 6.5 3.375Z"
                        fill="#8E8FA6"
                      />
                    </svg>
                  </a>
                </label>
              </div>
              <div class="d-grid">
                <a
                  @click="resetsetting()"
                  class="btn btn-outline-dark p-2 px-3 mb-3"
                >
                  Reset
                </a>
                <button type="submit" class="btn btn-secondary p-2 px-3">
                  Done
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Virsion Modal  -->
  <div
    class="modal fade"
    id="version"
    tabindex="-1"
    aria-labelledby="versionLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div>
            <button
              type="button"
              class="btn-close float-end mt-3 me-3"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="p-md-5 p-4">
            <p class="f24 mb-2">
              <b>Choose a Version to use </b>
            </p>
            <div class="d-grid">
              <div
                class="justify-content-evenly"
                role="group"
                aria-label="Basic radio toggle button group"
              >
                <div v-for="version in versions" :key="version.model_id">
                  <input
                    type="radio"
                    :value="version.model_id"
                    name="versionname"
                    class="btn-check"
                    :id="version.model_id"
                    autocomplete="off"
                    v-if="version.model_id === 'eleven_multilingual_v2'"
                    checked
                  />
                  <input
                    v-else
                    type="radio"
                    name="versionname"
                    :value="version.model_id"
                    :name="version.model_id"
                    class="btn-check"
                    :id="version.model_id"
                    autocomplete="off"
                  />
                  <label
                    :for="version.model_id"
                    class="btn btn-white p-2 px-3 text-start mb-3"
                  >
                    <span class="f20">{{
                      version.name.replace(/Eleven/g, "")
                    }}</span>
                    <br />
                    {{ version.description }}
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-----Voice add to favorite----->
  <div class="modal fade" id="addtofavorite" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div>
            <button
              type="button"
              class="btn-close float-end mt-3 me-3"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="p-md-5 p-4">
            <p class="f24 mb-2">
              Add voice <b v-html="favoritevoicename"> </b> to your Voice Lab
            </p>
            <form
              @submit.prevent="
                addvoice(fvoiceitem.voice_id, fvoiceitem.public_owner_id)
              "
            >
              <input type="hidden" name="__token" :value="csrftoken" />

              <label class="mb-2">New voice name</label>
              <input
                type="text"
                class="form-text form-control mb-3"
                name="name"
                ref="favoritevoicename"
                :value="favoritevoicename"
              />

              <p>
                <a @click="playAudio(keyindex, fvoiceitem)"
                  >Play voice preview</a
                >
              </p>
              <button
                type="submit"
                :disabled="isLoading"
                class="btn btn-secondary p-2 px-3"
              >
                <span v-if="!isLoading">Save</span>
                <span v-else>Loading...</span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-----Voice remove from favorite----->
  <!-- Delete / Remove Voice  -->
  <div
    class="modal fade"
    id="removefromfavorite"
    tabindex="-1"
    aria-labelledby="deletevoiceLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <form @submit.prevent="removevoice(voiceitem.voice_id)">
          <div class="modal-body p-0">
            <div>
              <button
                type="button"
                class="btn-close float-end mt-3 me-3"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="p-md-5 p-4">
              <p class="f24 mb-2"><b>Remove Voice</b></p>
              <p class="mb-4">
                Do you really want to remove the voice
                <b v-html="voiceitem.name"> </b>?
              </p>
              <div class="d-flex justify-content-center">
                <input type="hidden" name="__token" :value="csrftoken" />
                <button
                  class="btn btn-outline-dark p-2 px-4 mx-1"
                  data-bs-dismiss="modal"
                >
                  Cancel
                </button>
                <button
                  :disabled="isLoading"
                  class="btn btn-danger p-2 px-4 mx-1"
                >
                  <span v-if="!isLoading">Remove</span>
                  <span v-else>Loading...</span>
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  data() {
    return {
      items: [],
      voiceitems: [],
      categories: [],
      selectedCategory: "",
      selectedUseCase: [],
      selectedGender: [],
      selectedAge: [],
      selectedAccent: [],
      fselectedUseCase: [],
      fselectedGender: [],
      fselectedAge: [],
      fselectedAccent: [],
      fitems: [],
      searchText: "",
      fsearchText: "",
      ffavvoice: "",
      favdata: "",
      currentAudioIndex: -1,
      csrftoken: document
        .querySelector('meta[name="csrf-token"]')
        .getAttribute("content"),
      tformData: {
        model_id: "",
        text: "",
        voice_settings: {
          stability: 0.5,
          similarity_boost: 0.75,
          style: 0,
          use_speaker_boost: true,
        },
      },
      historyformdata: {
        historydownload: true,
        history_item_id: [],
      },
      formData: {
        gender: "male",
        age: "old",
        accent: "american",
        accent_strength: 1,
        text: "",
        voiceid: "",
        remainingcount: "",
      },
      loading: false,
      load: false,
      currentAudio: "",
      audioUrl: "",
      isplay: true,
      inputText: 0,
      maxChars: 1000,
      favoritevoicename: "",
      currentaudiourl: "",
      currentTime: "00:00",
      duration: "00:00",
      isLoading: false,
      keyindex: 0,
      fvoiceitem: "",
      voiceitem: "",
      defaultName: "",
      defaultFiles: "",
      isVisible: true,
      usersubs: [],
      page: 1,
      selectedvoiceid: "",
      selectedvoicerecords: [],
      publicuserid: "",
      voices: [],
      voice_settings: {
        stability: 0.5,
        similarity_boost: 0.75,
        style: 0,
        use_speaker_boost: true,
      },
      showAdditionalInput: false,
      labelKey: "",
      labelValue: "",

      labelCount: 0,
      uniqueUseCases: "",
      uniqueage: "",
      uniqueaccent: "",
      disabeled: true,
      labels: {
        age: "old",
        gender: "male",
        accent: "american",
      },
      vformData: {
        generated_voice_id: "",
        voice_name: "",
        voice_description: "",
        labels: {
          age: "old",
          gender: "male",
          accent: "american",
        },
      },
      sformData: {
        stability: 0.5,
        similarity_boost: 0.75,
        style: 0,
        use_speaker_boost: true,
      },
      temporaryValues: {
        stability: 0.5,
        similarity_boost: 0.75,
        style: 0,
        use_speaker_boost: true,
      },
      versions: [],
      tooltipList: null,
      voiceRecords: [],
      history_item_id: [],
      fav: false,
    };
  },
  beforeCreate() {},
  created() {
    this.fetchItems();
    this.favvoice();
  },
  updated() {
  },
  computed: {
    remainingChars() {
      return this.formData.text.length;
    },

    ttsremainingChars() {
      return this.tformData.text.length;
    },

    filteredItems() {
      if (
        this.selectedUseCase.length === 0 &&
        this.selectedAge.length === 0 &&
        this.selectedGender == "" &&
        this.selectedAccent.length === 0 &&
        this.searchText == ""
      ) {
        return this.voiceitems;
      } else {
        return this.voiceitems.filter((item) => {
          return (
            (this.selectedUseCase.length === 0 ||
              this.selectedUseCase.includes(item.use_case)) &&
            (this.selectedAge.length === 0 ||
              this.selectedAge.includes(item.age)) &&
            (this.selectedGender == "" || this.selectedGender == item.gender) &&
            (this.selectedAccent.length === 0 ||
              this.selectedAccent.includes(item.accent)) &&
            (this.searchText == "" ||
              item.name.toLowerCase().includes(this.searchText.toLowerCase()))
          );
        });
      }
    },
    refresh() {
      this.fav = true;
      setTimeout(() => {
        this.fav = false;
      }, 1000); // Example: Refresh after 1 second
    },
    voicefilteredItems() {
      if (
        this.fselectedUseCase.length === 0 &&
        this.fselectedAge.length === 0 &&
        this.fselectedGender == "" &&
        this.fselectedAccent.length === 0 &&
        this.fsearchText == "" &&
        this.ffavvoice == ""
      ) {
        return this.voices;
      } else {
        return this.voices.filter((item) => {
          const valueInFavorite = this.favoriteItems.find(
            (favItem) => favItem === item.voice_id
          );
          return (
            (this.fselectedUseCase.length === 0 ||
              this.fselectedUseCase.includes(item.labels["use case"])) &&
            (this.fselectedAge.length === 0 ||
              this.fselectedAge.includes(item.labels.age)) &&
            (this.fselectedGender == "" ||
              this.fselectedGender == item.labels.gender) &&
            (this.fselectedAccent.length === 0 ||
              this.fselectedAccent.includes(item.labels.accent)) &&
            (this.fsearchText == "" ||
              item.name
                .toLowerCase()
                .includes(this.fsearchText.toLowerCase())) &&
            (this.ffavvoice == "" || valueInFavorite)
          );
        });
      }
    },
    favoriteItems() {
      return this.voiceRecords;
    },
    voicelabItems() {
      const objectsWithNullOwnerId = this.voices.filter(
        (obj) => obj.owner_id !== null
      );
      return objectsWithNullOwnerId;
    },
  },

  mounted() {
    setTimeout(() => {
      const tooltipTriggerList = document.querySelectorAll(
        '[data-bs-toggle="tooltip"]'
      );
      tooltipTriggerList.forEach((tooltipTriggerEl) => {
        new bootstrap.Tooltip(tooltipTriggerEl);
      });
      this.labelCount = Object.keys(this.labels).length;
    }, 2000);

    setTimeout(() => {
      this.loadPlayer();
    }, 1000);

    this.elevenusersubscription();
    this.usersubscription();
  },

  methods: {
    addmorelabel() {
      this.showAdditionalInput = true;
    },
    addNewLabel() {
      // Check if the maximum number of labels has been reached
      if (this.labelCount < 5) {
        // Determine the class for styling
        const labelClass =
          this.labelCount % 2 === 0 ? "ytext-ybg" : "ptext-pbg";

        // Add label to the array
        if (this.labelkey && this.labelvalue) {
          // Add new label to the labels object
          this.labels[this.labelkey] = this.labelvalue;
          // Increment label count
          this.labelCount++;
          // Clear input fields
          this.labelkey = "";
          this.labelvalue = "";
        } else {
          alert("Please provide both label key and value.");
        }
      } else {
        alert("You can add only 5 labels");
      }
    },
    deleteLabel(index) {
      // Remove label from the array
      delete this.labels[index];
      // Decrement label count
      this.labelCount--;
    },
    toggleVisibility() {
      this.isVisible = !this.isVisible;
      const contentDiv = document.getElementById("infiniteloop");
      contentDiv.addEventListener("scroll", this.handleScroll);
    },
    favvoice() {
      axios.get("/voice/favorite/get").then((response) => {
        const voiceIds = response.data.response.map((item) => item.voice_id);
        this.voiceRecords = voiceIds;
      });
    },
    isfavorite(item) {
      if (this.favoriteItems.filter((e) => e === item.voice_id).length > 0) {
        return true;
      }
      return false;
    },
    fetchItems() {
      this.loading = true;
      axios
        .get("/get-voice-data", {
          params: {
            page_size: 30,
            page: this.page,
          },
        })
        .then((response) => {
          this.items = response.data;
          this.voices = response.data.voices;
          this.voiceitems = [
            ...this.voiceitems,
            ...response.data.shared_voices,
          ];
          this.page++;
          this.loading = false;
        })
        .catch((error) => {
          console.error("Error fetching items:", error);
        });
    },
    handleScroll(event) {
      const contentDiv = event.target;
      const bottomOfContent =
        contentDiv.scrollTop + contentDiv.clientHeight >=
        contentDiv.scrollHeight;
      if (bottomOfContent && !this.loading) {
        this.fetchItems();
      }
    },
    elevenusersubscription() {
      axios
        .get("/eleven/user/subscription")
        .then((response) => {
          this.usersubs = response.data;
        })
        .catch((error) => {
          console.error("Error fetching usersubs:", error);
        });
    },
    usersubscription() {
      axios
        .get("/user/subscription")
        .then((response) => {
          this.remainingcount = response.data.remainingchar;
        })
        .catch((error) => {
          console.error("Error fetching usersubs:", error);
        });
    },
    toggleAudio() {
      const audioPlayer = this.$refs.audioPlayer;
      if (this.isplay) {
        document.querySelector("#icon-play").style.display = "none";
        document.querySelector("#icon-pause").style.display = "block";
        audioPlayer.play();
      } else {
        document.querySelector("#icon-play").style.display = "block";
        document.querySelector("#icon-pause").style.display = "none";
        audioPlayer.pause();
      }
      
      this.isplay = !this.isplay;
    },
    getaddedvoices() {
      this.uniqueUseCases = [
        ...new Set(
          this.voices.map((item) => item.labels["use case"]).filter(Boolean)
        ),
      ];
      const uniqueage = [
        ...new Set(this.voices.map((item) => item.labels.age)),
      ];
      this.uniqueage = uniqueage.filter(function (value) {
        return value !== undefined && value !== null;
      });
      const uniqueaccent = [
        ...new Set(this.voices.map((item) => item.labels.accent)),
      ];
      this.uniqueaccent = uniqueaccent.filter(function (value) {
        return value !== undefined && value !== null;
      });
    },
    voiceaddtofav(item) {
      var form_data = new FormData();
      form_data.append("voice_id", item.voice_id);
      axios.post("/voice/favorite/add", form_data).then((res) => {
        if (res.status == 200) {
          toastr.success(res.data.message);
          //this.fetchItems();
          this.favvoice();
        } else {
          toastr.error(res.data.message);
        }
      });
    },
    voiceremovefromfav(item) {
      var form_data = new FormData();
      form_data.append("voice_id", item.voice_id);
      axios.post("/voice/favorite/remove", form_data).then((res) => {
        if (res.status == 200) {
          toastr.success(res.data.message);
          this.favvoice();
        } else {
          toastr.error(res.data.message);
        }
      });
    },
   
    submitForm() {
      this.isLoad = true;
      this.disabeled = true;
      axios
        .post("/voice-generated", this.formData)
        .then((response) => {
          if (response.data.status == 200) {
            var form_data = new FormData();
            form_data.append("remainingchar", this.remainingcount);
            form_data.append("newremainingchar", this.remainingChars);
            axios.post("/user/subscription/update", form_data).then((res) => {
              if (res.status == 200) {
                this.remainingcount = this.remainingcount - this.remainingChars;
                this.loadPlayer();
                this.audioUrl = response.data.responseText.play_url;
                let partToRemove = "app/public/";
                this.audioUrl.replace(partToRemove, "");
                this.labels.age = this.formData.age;
                this.labels.gender = this.formData.gender;
                this.labels.accent = this.formData.accent;
                this.vformData.age = this.formData.age;
                this.vformData.gender = this.formData.gender;
                this.vformData.accent = this.formData.accent;
                this.vformData.files = this.audioUrl;
                this.vformData.accent_strength = this.formData.accent_strength;
                setTimeout(()=>{
                 this.loadNewTrack(this.audioUrl);
                }, 1000)
                
                this.vformData.generated_voice_id =
                  response.data.response_headers.generated_voice_id[0];
              } else {
                toastr.error(res.data.message);
              }
            });
          } else if (response.data.status == 401) {
            toastr.error(response.data.response.detail.message);
          }
        })
        .catch((error) => {
          toastr.error(error.response.data.response.detail.message);
        })
        .finally(() => {
          this.isLoad = false;
          this.disabeled = false;
        });
    },
    savevoice() {
      this.vformData.accent_strength = this.formData.accent_strength;
      this.vformData.labels = this.labels;
      axios
        .post("/create-voice", this.vformData)
        .then((response) => {
          console.log(response);
          if (response.data.status == 200) {
            /*axios.post("/customvoice/add", {
              voice_id: response.data.response.voice_id,
            });*/
            toastr.success(response.data.message);
            document.querySelector(".title").innerHTML = this.vformData.voice_name;
            setTimeout(() => {
              //location.reload();
            }, 2500);
          } else {
            toastr.error(response.data.response.detail.message);
          }
        })
        .catch((error) => {
          toastr.error(error);
        });
    },
    textospeechform() {
      if (this.selectedvoiceid == "") {
        this.selectedvoiceid = this.voices[0].voice_id;
        this.selectedvoicerecords = this.voices[0];
      }

      this.isLoading = true;
      if (this.selectedvoicerecords.high_quality_base_model_ids > 0) {
        this.tformData.model_id =
          this.selectedvoicerecords.high_quality_base_model_ids[0];
      }
      this.tformData.voice_settings = this.sfromData;

      axios
        .post("/text-to-speech/" + this.selectedvoiceid, this.tformData)
        .then((response) => {
          if (response.data.status == 200) {
            var form_data = new FormData();
            form_data.append("remainingchar", this.remainingcount);
            form_data.append("newremainingchar", this.ttsremainingChars);
            axios.post("/user/subscription/update", form_data).then((res) => {
              if (res.status == 200) {
                this.remainingcount =
                this.remainingcount - this.ttsremainingChars;
                this.loadPlayer();
                this.audioUrl = response.data.responseText.play_url;

                let partToRemove = "app/public/";
                this.audioUrl.replace(partToRemove, "");
                this.loadNewTrack(this.audioUrl);
                this.history_item_id = response.data.history_item_id;

                axios.post("voice/history/add", {
                  history_item_id: response.data.history_item_id[0],
                });
              } else {
                toastr.error(res.data.response.detail.message);
              }
            });
          } else if (response.data.status == 401) {
            toastr.error(response.data.response.detail.message);
          }
        })
        .catch((error) => {
          toastr.error(error.response.data.response.detail.message);
        })
        .finally(() => {
          this.isLoading = false;
        });
    },
    voicedownload() {
      if (this.history_item_id.length > 0) {
        this.historyformdata.history_item_id = this.history_item_id;

        axios
          .post("/history/action", this.historyformdata, {
            responseType: "blob",
          })
          .then((response) => {
            // Create a blob from the response data
            const blob = new Blob([response.data], { type: "audio/mpeg" });

            // Create a URL for the blob
            const url = window.URL.createObjectURL(blob);

            // Create a link element
            const link = document.createElement("a");
            link.href = url;
            link.setAttribute("download", "output.mp3");
            document.body.appendChild(link);

            // Programmatically click the link to initiate the download
            link.click();

            // Cleanup
            window.URL.revokeObjectURL(url);
          })
          .catch((error) => {
            console.error("Error downloading audio:", error);
          });
      } else {
        const link = document.createElement("a");
        link.href = this.currentaudiourl;
        link.setAttribute("download", "output.mp3");
        document.body.appendChild(link);

        // Programmatically click the link to initiate the download
        link.click();
      }
    },
    addvoice(vid, puid) {
      var data = new FormData();
      var name = this.$refs.favoritevoicename.value;

      data.append("new_name", name);
      data.append("public_owner_id", puid);
      data.append("voice_id", vid);
      this.isLoading = true;
      axios
        .post("/add-voice", data)
        .then((response) => {
          if (response.data.status == 200) {
            toastr.success(response.data.message);
            setTimeout(() => {
              location.reload();
            }, 2500);
          } else {
            toastr.error(response.data.response.detail.message);
          }
        })
        .catch((error) => {
          console.error("Error submitting form:", error.response.data);
        })
        .finally(() => {
          this.isLoading = false;
        });
    },
    removevoice(vid) {
      var data = new FormData();
      data.append("voice_id", vid);
      this.isLoading = true;
      axios
        .post("/remove-voice", data)
        .then((response) => {
          if (response.data.status == 200) {
            toastr.success(response.data.message);
            setTimeout(() => {
              location.reload();
            }, 2500);
          } else {
            toastr.error(response.data.response.detail.message);
          }
        })
        .catch((error) => {
          console.error("Error submitting form:", error.response.data);
        })
        .finally(() => {
          this.isLoading = false;
        });
    },
    onTimeUpdate() {
      const audioPlayer = this.$refs.audioPlayer;
      this.currentTime = this.formatTime(audioPlayer.currentTime);
      this.duration = this.formatTime(audioPlayer.duration);
      var progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
      document.getElementById("myBar").style.width = progress + "%";
      if (progress == 100 || this.currentTime == this.duration) {
         document.getElementById("myBar").style.width = 0 + "%";
         this.resetAudioPlayer(); // Reset the audio player
         
        
      }
    },
    resetAudioPlayer() {
      const audioPlayer = this.$refs.audioPlayer;
      audioPlayer.pause(); // Pause the audio if it's playing
      audioPlayer.currentTime = 0; // Reset the audio to the beginning
      this.isplay = true; // Reset the play state
      // Reset any other player-related states or UI elements as needed
      document.querySelector("#icon-play").style.display = "block";
      document.querySelector("#icon-pause").style.display = "none";
    },
    formatTime(seconds) {
      // Convert seconds to MM:SS format
      const minutes = Math.floor(seconds / 60);

      const remainingSeconds = Math.floor(seconds % 60);
      return `${minutes < 10 ? "0" : ""}${minutes}:${
        remainingSeconds < 10 ? "0" : ""
      }${remainingSeconds}`;
    },
    loadNewTrack(audiourl) {
      this.audioPlayer = this.$refs.audioPlayer;
      this.audioPlayer.src = this.audioUrl;
      // Load the audio
      this.audioPlayer.load();
      // Wait for loadedmetadata event to get duration
      this.audioPlayer.addEventListener('loadedmetadata', () => {
        this.duration = this.formatTime(this.audioPlayer.duration);
      });

      setTimeout(()=>{
        this.isplay = true;
        this.toggleAudio();
      });
    },

    addtofavoritemodal(index, voiceitem) {
      this.favoritevoicename = voiceitem.name;
      this.fvoiceitem = voiceitem;
      this.keyindex = index;
    },
    removefromfavoritemodal(index, voiceitem) {
      this.voiceitem = voiceitem;
    },
    countChar() {
      if (this.formData.text.length >= 1000) {
        this.formData.text = this.formData.text.substring(0, 1000);
      }
    },
    hideshow() {
      document.getElementById("myplayer").style.visibility = "hidden";
      this.currentAudio.pause();
    },
    playAudio(index, item) {
      this.currentaudiourl = item.preview_url;
      if (this.currentAudioIndex !== -1) {
        // Pause the currently playing audio if any
        const currentAudioElement = document.getElementById(
          "audio-" + this.currentAudioIndex
        ).children[0];
        if (currentAudioElement) {
          currentAudioElement.pause();
          currentAudioElement.currentTime = 0;
          var playAudioBtndiv = document.getElementById("playAudioBtn-"+ this.currentAudioIndex);
          if (playAudioBtndiv) {
            playAudioBtndiv.classList.remove('pause-btn-2')
          }
        }
      }

      if(this.currentAudioIndex===index){
        this.currentAudioIndex = -1;
        return;
      }
      var voiceid = "audio-" + index;
      var width = 0;

      var audioElement = document.getElementById("audio-" + index).children[0];
      this.currentAudio = audioElement;
      if (audioElement) {
        let that = this;
        audioElement.addEventListener("timeupdate", function () {
          that.currentTime = audioElement.currentTime;
          var progress = (that.currentTime / audioElement.duration) * 100;
          document.getElementById("myBar").style.width = progress + "%";
          that.currentTime = that.formatTime(that.currentTime);
          if (that.currentTime == that.duration) {
            that.isplay = true;
            //that.toggleAudio();
          }
        })
        audioElement.addEventListener("ended", function() {
          let playAudioBtn = document.getElementById('playAudioBtn-' + index);
          if (playAudioBtn) {
            playAudioBtn.classList.remove('pause-btn-2');
          } 
        });
        this.duration = this.formatTime(audioElement.duration);
        //document.querySelector(".title").innerHTML = item.name;
        var progress = (that.currentTime / audioElement.duration) * 100;
        audioElement.play().catch((error) => {
          console.error("Error playing audio:", error);
        });
        audioElement.addEventListener("playing", function() {
          var playAudioBtndiv = document.getElementById("playAudioBtn-"+ index);
          if (playAudioBtndiv) {
            playAudioBtndiv.classList.add('pause-btn-2');
          } 
        });
      } else {
        console.error("Audio element or play method not found.");
      }
      this.currentAudioIndex = index;
      //this.toggleAudio();
    },
    seek(event) {
      var percent = event.offsetX / this.progressbar.offsetWidth;
      this.currentAudio.currentTime = percent * this.currentAudio.duration;
      this.barProgress.style.width = percent * 100 + "%";
      this.toggleAudio();
    },
    forward() {
      this.$refs.audioPlayer.currentTime =
        this.$refs.audioPlayer.currentTime + 5;
      this.setBarProgress();
      this.$refs.audioPlayer.play();
    },
    rewind() {
      this.$refs.audioPlayer.currentTime =
        this.$refs.audioPlayer.currentTime - 5;
      this.setBarProgress();
      this.$refs.audioPlayer.play();
    },
    setBarProgress() {
      var progress =
        (this.$refs.audioPlayer.currentTime / this.$refs.audioPlayer.duration) *
        100;
      document.getElementById("myBar").style.width = progress + "%";
    },
    loadPlayer() {
      if (!this.progressbar) {
        this.progressbar = this.$refs.myProgress;
        this.barProgress = this.$refs.myBar;
        this.progressbar.addEventListener("click", this.seek.bind(this));
      }
    },
    getmodels() {
      axios
        .get("/get_models")
        .then((response) => {
          if (response.status == 200) {
            this.versions = response.data;
          }
        })
        .catch((error) => {
          console.error("Error submitting form:", error.response.data);
        })
        .finally(() => {
          this.isLoading = false;
        });
    },
    selectVoice(vid = "") {
      //console.log(this.voices[0]);
      if (vid == "") {
        if(this.voices){
          this.selectedvoiceid = this.voices[0].voice_id;
        }
      } else {
        this.selectedvoiceid = vid;
      }
      
      this.selectedvoicerecords = this.voices.filter(
        (record) => record.voice_id === this.selectedvoiceid
      );

      let selVoiceitem = JSON.parse(JSON.stringify(this.selectedvoicerecords));
      this.loadPlayer();
      this.audioUrl = selVoiceitem[0].preview_url;
      document.querySelector(".title").innerHTML = selVoiceitem[0].name;

      axios.get("/voice_setting/" + this.selectedvoiceid).then((response) => {
        this.sformData = response.data;
        this.temporaryValues.stability = this.sformData.stability*100;
        this.temporaryValues.similarity_boost = this.sformData.similarity_boost*100;
        this.temporaryValues.style = this.sformData.style*100;
        this.temporaryValues.use_speaker_boost = this.sformData.use_speaker_boost;
      });
    },
    resetsetting() {
      this.selectVoice(this.selectedvoiceid);
      this.sformData = {
        stability: 0.5,
        similarity_boost: 0.75,
        style: 0,
        use_speaker_boost: true,
      };
      this.temporaryValues = {
        stability: 0.5,
        similarity_boost: 0.75,
        style: 0,
        use_speaker_boost: true,
      };

      document.getElementById('rangeV').innerHTML = '';
      document.getElementById('rangeV').style = '';
      document.getElementById('rangeVError').classList.add('d-none');
      document.getElementById('rangeV2').innerHTML = '';
      document.getElementById('rangeV2').style = '';
      document.getElementById('rangeV3').innerHTML = '';
      document.getElementById('rangeV3').style = '';
      document.getElementById('rangeV3Error').classList.add('d-none');
    },
    setVoiceRange(rangeId,rangeSpanId,rangeValId,compOpt,compVal){
      let inputRangeSlider = document.getElementById(rangeId)
      let spanrangeV = document.getElementById(rangeSpanId)

      const newValue = Number((inputRangeSlider.value - inputRangeSlider.min) * 100 / (inputRangeSlider.max - inputRangeSlider.min));
      const newPosition = 10 - (newValue * 0.2);
      document.getElementById(rangeValId).value = inputRangeSlider.value/100;
      let spanClass = 'defaultSpan';

      if(compOpt){
        let rangeVError = document.getElementById('rangeVError')
        let rangeV3Error = document.getElementById('rangeV3Error')
        
        if(compOpt=='<'){
          if (inputRangeSlider.value <= compVal) {
            spanClass = 'redSpan';
            rangeVError.classList.remove('d-none');
          }else{
            rangeVError.classList.add('d-none');
          }
        }
        if(compOpt=='>'){
          if (inputRangeSlider.value > compVal) {
            spanClass = 'redSpan';
            rangeV3Error.classList.remove('d-none');
          }else{
            rangeV3Error.classList.add('d-none');
          }
        }
      }
      
      spanrangeV.innerHTML = `<span class="${spanClass}">${inputRangeSlider.value}%</span>`;
      spanrangeV.style.left = `calc(${newValue}% + (${newPosition}px))`;

    },
    updateVoiceSetting() {
      this.sformData.stability = document.getElementById('range').value;
      this.sformData.similarity_boost = document.getElementById('range2').value;
      this.sformData.style = document.getElementById('range3').value;

      this.temporaryValues.stability = document.getElementById('range').value*100;
      this.temporaryValues.similarity_boost = document.getElementById('range2').value*100;
      this.temporaryValues.style = document.getElementById('range3').value*100;

      if (this.selectedvoiceid == "") {
        this.selectedvoiceid = this.voices[0].voice_id;
      }
      axios
        .post("voices_setting_update/" + this.selectedvoiceid, this.sformData)
        .then((response) => {
          if (response.data.status == "200") {
            toastr.success(response.data.message);
            setTimeout(() => {
              //location.reload();
            }, 2500);
          } else {
            toastr.error(response.data.response.detail.message);
          }
        });
    },
  },
  beforeUnmount() {
    const contentDiv = document.getElementById("infiniteloop");
    contentDiv.removeEventListener("scroll", this.handleScroll);
  },
};

</script>
